{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport AMapLoader from '@amap/amap-jsapi-loader';\nexport default {\n  mounted() {\n    /**\r\n     * 挂载阶段调用，DOM初始化完成进行地图初始化\r\n     */\n    this.initMap();\n\n    /**\r\n     * 获取用户id并根据用户id获取毕业生个人基本信息\r\n     */\n    let userId = JSON.parse(localStorage.getItem(\"user\")).user.userId;\n    this.$axios.get('http://localhost:8081/graduate/query?userId=' + userId).then(res => {\n      this.graduate.graduateId = res.data.graduateId;\n      this.graduate.graduateName = res.data.graduateName;\n      this.graduate.graduateAge = res.data.graduateAge;\n      this.graduate.graduateSex = res.data.graduateSex;\n      this.graduate.graduateBirthday = res.data.graduateBirthday;\n      this.graduate.graduateCollege = res.data.graduateCollege;\n      this.graduate.graduateGraduateDate = res.data.graduateGraduateDate;\n      this.graduate.graduateMajor = res.data.graduateMajor;\n      this.graduate.userId = res.data.userId;\n      this.graduate.graduatePhone = res.data.graduatePhone;\n      this.graduate.graduateEmail = res.data.graduateEmail;\n      this.graduate.graduateQualificationCheck = res.data.graduateQualificationCheck;\n      if (this.graduate.graduateQualificationCheck != '审核通过') {\n        const loading = this.$loading({\n          lock: true,\n          background: 'rgba(0, 0, 0, 0.7)'\n        });\n        setTimeout(() => {\n          loading.close();\n          this.$router.push('/GraduateResumeDetails');\n          this.$notify({\n            title: '提示',\n            message: '请先通过毕业资格审查',\n            iconClass: 'el-icon-tickets'\n          });\n        }, 1000);\n      } else {\n        /**\r\n         * 如果未选择某一招聘过程就进入\r\n         */\n        if (this.$route.query.rpId == undefined) {\n          const loading = this.$loading({\n            lock: true,\n            background: 'rgba(0, 0, 0, 0.7)'\n          });\n          setTimeout(() => {\n            loading.close();\n            this.$router.push('/GraduateEmploymentNeed');\n            this.$notify({\n              title: '提示',\n              message: '请选择某一招聘过程',\n              iconClass: 'el-icon-mouse'\n            });\n          }, 1000);\n        } else {\n          this.$axios.get('http://localhost:8081/rp/query_by_rp_id?rpId=' + this.$route.query.rpId).then(res => {\n            this.recruitmentProcess = {\n              rpId: res.data.rpId,\n              graduateId: res.data.graduateId,\n              enId: res.data.enId,\n              rpPhase: res.data.rpPhase,\n              rpCheck: res.data.rpCheck,\n              rpFaceLocation: res.data.rpFaceLocation,\n              rpWorkFile: res.data.rpWorkFile\n            };\n            if (this.recruitmentProcess.rpWorkFile != '' && this.recruitmentProcess.rpWorkFile != undefined && this.recruitmentProcess.rpWorkFile != null) {\n              this.recruitmentProcess.rpWorkFile.split(',').forEach(file => {\n                console.log(file);\n                if (file != '' && file != undefined && file != null) {\n                  this.fileList[this.fileList.length] = {\n                    name: file,\n                    url: \"http://localhost:8081/\" + file\n                  };\n                }\n              });\n            }\n            if (this.recruitmentProcess.rpPhase == '简历投递') {\n              this.tableData.rpPhaseId = 1;\n              this.stepsShow.firstShow = true;\n            } else if (this.recruitmentProcess.rpPhase == '个人资料审核') {\n              this.tableData.rpPhaseId = 2;\n              this.stepsShow.secondShow = true;\n            } else if (this.recruitmentProcess.rpPhase == '面试') {\n              this.tableData.rpPhaseId = 3;\n              this.stepsShow.thirdShow = true;\n            } else if (this.recruitmentProcess.rpPhase == '就业协议书') {\n              this.tableData.rpPhaseId = 5;\n              this.stepsShow.fourthShow = true;\n            } else if (this.recruitmentProcess.rpPhase == '招聘完成') {\n              this.tableData.rpPhaseId = 5;\n              this.stepsShow.fifthShow = true;\n            }\n          });\n\n          /**\r\n           * 从数据库中根据enterpriseId查询企业并保存在enterprise中\r\n           */\n          this.$axios.get('http://localhost:8081/enterprise/query_by_enterprise_id?enterpriseId=' + this.$route.query.enterpriseId).then(res => {\n            this.enterprise = {\n              enterpriseId: res.data.enterpriseId,\n              enterpriseName: res.data.enterpriseName,\n              enterpriseRegistrationPlace: res.data.enterpriseRegistrationPlace,\n              enterpriseRegisteredCapital: res.data.enterpriseRegisteredCapital,\n              enterpriseLegalRepresentative: res.data.enterpriseLegalRepresentative,\n              enterpriseFoundingDate: res.data.enterpriseFoundingDate,\n              enterpriseEmail: res.data.enterpriseEmail,\n              enterpriseCoreBusiness: res.data.enterpriseCoreBusiness,\n              userId: res.data.userId,\n              enterpriseQualificationsCheck: res.data.enterpriseQualificationsCheck\n            };\n\n            /**\r\n             * 根据企业id获取企业用人资料相关信息\r\n             */\n            this.$axios.get('http://localhost:8081/eq/query_by_enterprise_id?enterpriseId=' + this.enterprise.enterpriseId).then(res2 => {\n              for (let j = 0; j < res2.data.length; j++) {\n                this.enterpriseQualificationsList[j] = {\n                  enterpriseId: res2.data[j].enterpriseId,\n                  eqId: res2.data[j].eqId,\n                  eqIndex: res2.data[j].eqIndex\n                };\n\n                /**\r\n                 * 为tableDataList赋值展示数据\r\n                 */\n                this.preview.previewImageUrls[j] = \"http://localhost:8081/\" + this.enterpriseQualificationsList[j].eqIndex;\n              }\n            });\n          });\n        }\n      }\n    });\n  },\n  data() {\n    return {\n      /**\r\n       * 就业协议书表\r\n       */\n      fileList: [],\n      fileListShow: false,\n      /**\r\n       * 就业协议书展示\r\n       */\n      workFileShow: true,\n      /**\r\n       * 初始化 map 对象\r\n       */\n      map: null,\n      /**\r\n       * 毕业生个人基本信息\r\n       */\n      graduate: {\n        graduateId: 0,\n        graduateName: '',\n        graduateAge: '',\n        graduateSex: '',\n        graduateBirthday: '',\n        graduateCollege: '',\n        graduateGraduateDate: '',\n        graduateMajor: '',\n        userId: 0,\n        graduatePhone: '',\n        graduateEmail: '',\n        graduateQualificationCheck: ''\n      },\n      /**\r\n       * 招聘过程\r\n       */\n      recruitmentProcess: {\n        rpId: 0,\n        graduateId: 0,\n        enId: 0,\n        rpPhase: '',\n        rpCheck: '',\n        rpFaceLocation: '',\n        rpWorkFile: ''\n      },\n      /**\r\n       * 企业基本信息\r\n       */\n      enterprise: {\n        enterpriseId: 0,\n        enterpriseName: '',\n        enterpriseRegistrationPlace: '',\n        enterpriseRegisteredCapital: '',\n        enterpriseLegalRepresentative: '',\n        enterpriseFoundingDate: '',\n        enterpriseEmail: '',\n        enterpriseCoreBusiness: '',\n        userId: 0,\n        enterpriseQualificationsCheck: ''\n      },\n      /**\r\n       * 企业用人资格信息\r\n       */\n      enterpriseQualificationsList: [{\n        enterpriseId: 0,\n        eqId: 0,\n        eqIndex: ''\n      }],\n      /**\r\n       * 界面预览弹窗显示对象\r\n       */\n      preview: {\n        previewDialog: false,\n        previewImageUrls: ['']\n      },\n      tableData: {\n        enId: '1',\n        graduateId: '6',\n        rpPhase: '简历审核',\n        rpPhaseId: 0\n      },\n      /**\r\n       * 用于展示某一步\r\n       */\n      stepsShow: {\n        firstShow: false,\n        secondShow: false,\n        thirdShow: false,\n        fourthShow: false,\n        fifthShow: false\n      }\n    };\n  },\n  methods: {\n    // 鼠标按下时触发\n    startDrawing(event) {\n      this.isDrawing = true; // 开始绘制\n      const {\n        offsetX,\n        offsetY\n      } = event; // 获取鼠标相对于Canvas的偏移量\n      this.context.beginPath(); // 开始新的路径\n      this.context.moveTo(offsetX, offsetY); // 将路径移动到鼠标位置\n    },\n    // 当鼠标在 Canvas 上移动时触发\n    draw(event) {\n      if (!this.isDrawing) return; // 如果没有在绘制中，则返回\n      const {\n        offsetX,\n        offsetY\n      } = event; // 获取鼠标相对于Canvas的偏移量\n      this.context.lineTo(offsetX, offsetY); // 绘制路径\n      this.context.stroke(); // 绘制路径的边框\n    },\n    // 当鼠标松开时触发，用于停止绘制签名\n    stopDrawing() {\n      this.isDrawing = false; // 停止绘制\n    },\n    // 清除\n    clearCanvas() {\n      this.context.clearRect(0, 0, this.$refs.canvas.width, this.$refs.canvas.height); // 清除Canvas上的内容\n    },\n    /**\r\n     * 地图初始化加载\r\n     */\n    initMap() {\n      AMapLoader.load({\n        key: \"ba38ade2e475299da6034aa0cabfecaf\",\n        //此处填入我们注册账号后获取的Key\n        version: \"2.0\",\n        //指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15\n        plugins: [''] //需要使用的的插件列表，如比例尺'AMap.Scale'等\n      }).then(AMap => {\n        this.map = new AMap.Map(\"container\", {\n          //设置地图容器id\n          viewMode: \"2D\",\n          //是否为3D地图模式\n          zoom: 5,\n          //初始化地图级别\n          center: [105.602725, 37.076636] //初始化地图中心点位置\n        });\n\n        // 绑定地图事件\n        this.map.on(\"click\", this.handleMapClick);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    thirdOk() {\n      /**\r\n       * 修改信息\r\n       */\n      this.recruitmentProcess.rpPhase = '就业协议书';\n      this.$axios.post('http://localhost:8081/rp/update', this.recruitmentProcess).then(res => {\n        //判断是否添加成功并返回对应信息\n        if (res.data == \"修改OK\") {\n          this.$message({\n            message: '就业协议书签字成功',\n            type: 'success'\n          });\n\n          /**\r\n           * 修改展示信息\r\n           */\n          this.tableData.rpPhase = '就业协议书';\n          this.tableData.rpPhaseId = 5;\n          this.stepsShow.thirdShow = false;\n          this.stepsShow.fourthShow = true;\n        }\n      });\n    },\n    handleMapClick(e) {\n      let position = '' + e.lnglat.lng + ',' + e.lnglat.lat + '';\n      this.$axios.get('https://restapi.amap.com/v3/geocode/regeo?key=bed5f199a63ff072651a76b9f4d7c9a8&location=' + position).then(res => {\n        console.log(res);\n      });\n    },\n    /**\r\n     * 展示资质信息\r\n     */\n    enterpriseQualificationsShow() {\n      this.preview.previewDialog = true;\n    },\n    /**\r\n     * 展示就业协议书\r\n     */\n    fileListShowDialog() {\n      this.fileListShow = true;\n    }\n  }\n};","map":{"version":3,"names":["AMapLoader","mounted","initMap","userId","JSON","parse","localStorage","getItem","user","$axios","get","then","res","graduate","graduateId","data","graduateName","graduateAge","graduateSex","graduateBirthday","graduateCollege","graduateGraduateDate","graduateMajor","graduatePhone","graduateEmail","graduateQualificationCheck","loading","$loading","lock","background","setTimeout","close","$router","push","$notify","title","message","iconClass","$route","query","rpId","undefined","recruitmentProcess","enId","rpPhase","rpCheck","rpFaceLocation","rpWorkFile","split","forEach","file","console","log","fileList","length","name","url","tableData","rpPhaseId","stepsShow","firstShow","secondShow","thirdShow","fourthShow","fifthShow","enterpriseId","enterprise","enterpriseName","enterpriseRegistrationPlace","enterpriseRegisteredCapital","enterpriseLegalRepresentative","enterpriseFoundingDate","enterpriseEmail","enterpriseCoreBusiness","enterpriseQualificationsCheck","res2","j","enterpriseQualificationsList","eqId","eqIndex","preview","previewImageUrls","fileListShow","workFileShow","map","previewDialog","methods","startDrawing","event","isDrawing","offsetX","offsetY","context","beginPath","moveTo","draw","lineTo","stroke","stopDrawing","clearCanvas","clearRect","$refs","canvas","width","height","load","key","version","plugins","AMap","Map","viewMode","zoom","center","on","handleMapClick","catch","e","thirdOk","post","$message","type","position","lnglat","lng","lat","enterpriseQualificationsShow","fileListShowDialog"],"sources":["src/components/graduate/recruitment_process/GraduateRecruitmentProcess.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"width:90%; margin-left:auto; margin-right:auto; margin-top: 20px\">\r\n      <el-steps :active=\"tableData.rpPhaseId\">\r\n      <el-step title=\"简历投递\" icon=\"el-icon-user-solid\" description=\"\"></el-step>\r\n        <el-step title=\"个人资料审核\" icon=\"el-icon-document-copy\" description=\"\"></el-step>\r\n        <el-step title=\"面试\" icon=\"el-icon-s-comment\" description=\"\"></el-step>\r\n        <el-step title=\"就业协议书\" icon=\"el-icon-document-checked\" description=\"\"></el-step>\r\n        <el-step title=\"招聘完成\" icon=\"el-icon-success\" description=\"\"></el-step>\r\n      </el-steps>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 20px;\" v-show=\"stepsShow.firstShow\">\r\n      <el-card>\r\n        <el-descriptions class=\"margin-top\" title=\"企业基本信息\" :column=\"2\" border>\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <svg t=\"1718803314989\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4275\" width=\"32\" height=\"32\"><path d=\"M912 912H112v-55h68V132a20 20 0 0 1 20-20h389a20 20 0 0 1 20 20v290h215a20 20 0 0 1 20 20v415h68v55zM507 213a20 20 0 0 0-20-20H302a20 20 0 0 0-20 20v42a20 20 0 0 0 20 20h185a20 20 0 0 0 20-20v-42z m0 188a20 20 0 0 0-20-20H302a20 20 0 0 0-20 20v42a20 20 0 0 0 20 20h185a20 20 0 0 0 20-20v-42z m0 188a20 20 0 0 0-20-20H302a20 20 0 0 0-20 20v42a20 20 0 0 0 20 20h185a20 20 0 0 0 20-20v-42z m0 179a20 20 0 0 0-20-20H302a20 20 0 0 0-20 20v42a20 20 0 0 0 20 20h185a20 20 0 0 0 20-20v-42z m285-264a20 20 0 0 0-20-20H633a20 20 0 0 0-20 20v16a20 20 0 0 0 20 20h139a20 20 0 0 0 20-20v-16z m0 130a20 20 0 0 0-20-20H633a20 20 0 0 0-20 20v16a20 20 0 0 0 20 20h139a20 20 0 0 0 20-20v-16z m0 147a20 20 0 0 0-20-20H633a20 20 0 0 0-20 20v16a20 20 0 0 0 20 20h139a20 20 0 0 0 20-20v-16z\" fill=\"#49D2FE\" p-id=\"4276\"></path></svg>\r\n              <label style=\"font-weight: bolder; font-size: large\"> 企业名称</label>\r\n            </template>\r\n            <label class=\"show\">{{ enterprise.enterpriseName }}</label>\r\n          </el-descriptions-item>\r\n\r\n\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <svg t=\"1718803441496\" class=\"icon\" viewBox=\"0 0 1170 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5526\" width=\"32\" height=\"32\"><path d=\"M0.804571 1001.033143l104.594286-182.418286 269.165714-34.889143-49.883428 217.307429H0.804571zM785.554286 662.966857l-24.868572-93.842286h122.002286l42.422857 77.750858-139.556571 16.091428z m176.859428 59.026286l159.451429 279.04h-490.788572l-7.460571-236.105143 338.797714-42.934857z m-259.072-144.822857l-19.968 26.843428c-52.297143 61.659429-92.16 120.685714-117.028571 177.005715-24.868571 56.32-47.323429 128.731429-67.291429 222.72-19.894857-93.915429-42.349714-166.326857-67.291428-222.72-12.434286-29.476571-29.842286-53.613714-44.836572-80.457143l-94.646857-120.685715-2.486857-2.706285c-67.291429-83.163429-102.107429-163.693714-102.107429-246.857143 0-91.209143 27.355429-166.326857 89.673143-233.325714C339.602286 32.475429 411.794286 0.292571 496.566857 0.292571s156.964571 29.476571 219.209143 96.548572c59.830857 64.365714 89.673143 142.189714 89.673143 233.398857 0 83.163429-34.889143 163.693714-102.107429 246.857143zM494.08 499.346286c89.673143 0 164.425143-80.457143 164.425143-177.005715 0-96.621714-74.752-177.152-164.425143-177.152-89.673143 0-164.425143 80.457143-164.425143 177.078858 0 96.548571 74.752 177.078857 164.425143 177.078857z m-356.205714 236.105143l84.699428-144.822858L317.220571 713.874286l-179.346285 21.504z\" fill=\"#C0C4CC\" p-id=\"5527\"></path></svg>\r\n              <label style=\"font-weight: bolder; font-size: large\"> 企业注册地</label>\r\n            </template>\r\n            {{ enterprise.enterpriseRegistrationPlace }}\r\n          </el-descriptions-item>\r\n\r\n\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <svg t=\"1718803513777\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"6613\" width=\"32\" height=\"32\"><path d=\"M670.1056 498.0224l68.8128-68.7616 103.2192-103.2192L910.848 394.752l-103.2192 103.2192 103.2192 103.2192-68.7616 68.864-103.2704-103.2192-68.7616-68.864z m172.032-196.608h-98.304v-49.152h-491.52v491.52h491.52v-49.152h98.304v147.456H154.0096V154.0096h688.128v147.456z m-294.912 196.608h98.304v98.304h-98.304v98.304h-98.304v-98.304h-98.304v-98.304h98.304v-29.44l-98.304-98.304L419.328 301.4144l78.6432 78.6944 73.728-78.6944 68.864 68.864-93.44 98.304v29.44z\" fill=\"#3163F6\" p-id=\"6614\"></path></svg>\r\n              <label style=\"font-weight: bolder; font-size: large\"> 注册资本</label>\r\n            </template>\r\n            {{ enterprise.enterpriseRegisteredCapital }}\r\n          </el-descriptions-item>\r\n\r\n\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <svg t=\"1718803656258\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"7640\" width=\"32\" height=\"32\"><path d=\"M511.726 0A511.726 511.726 0 1 1 0 511.726 511.726 511.726 0 0 1 511.726 0z\" fill=\"#FCAE40\" p-id=\"7641\"></path><path d=\"M712.253 801.558H311.747a89.306 89.306 0 0 1-89.305-89.305V356.126a89.306 89.306 0 0 1 89.305-89.305h400.506a89.306 89.306 0 0 1 89.305 89.305v356.127a89.306 89.306 0 0 1-89.305 89.305zM422.968 356.126a68.486 68.486 0 1 0 70.13 68.486 69.034 69.034 0 0 0-70.13-68.486z m59.72 164.366h-119.44a95.88 95.88 0 1 0 0 192.308h119.44a95.88 95.88 0 0 0 0-192.308z m273.943-75.06H623.495v44.379h133.684v-44.927z m0 89.305H623.495v44.38h133.684v-44.928z m0 88.758H623.495v44.379h133.684v-44.38z\" fill=\"#FFFFFF\" p-id=\"7642\"></path></svg>\r\n              <label style=\"font-weight: bolder; font-size: large\"> 法定代表人</label>\r\n            </template>\r\n            {{ enterprise.enterpriseLegalRepresentative }}\r\n          </el-descriptions-item>\r\n\r\n\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <svg t=\"1718803724145\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"8694\" width=\"32\" height=\"32\"><path d=\"M826.3 805.5H200.1c-35.1 0-63.6-28.5-63.6-63.6V287.3c0-35.1 28.5-63.6 63.6-63.6h626.2c35.1 0 63.6 28.5 63.6 63.6V742c-0.1 35-28.6 63.5-63.6 63.5zM200.1 258.7c-15.8 0-28.6 12.8-28.6 28.6V742c0 15.8 12.8 28.6 28.6 28.6h626.2c15.8 0 28.6-12.8 28.6-28.6V287.3c0-15.8-12.8-28.6-28.6-28.6H200.1z\" p-id=\"8695\"></path><path d=\"M701.3 293.1h-16.5c-6.2 0-11.3-5.1-11.3-11.3v-85.9c0-6.2 5.1-11.3 11.3-11.3h16.5c6.2 0 11.3 5.1 11.3 11.3v85.9c0 6.2-5.1 11.3-11.3 11.3zM340.2 293.1h-16.5c-6.2 0-11.3-5.1-11.3-11.3v-85.9c0-6.2 5.1-11.3 11.3-11.3h16.5c6.2 0 11.3 5.1 11.3 11.3v85.9c0 6.2-5.1 11.3-11.3 11.3zM152.1 363.4h718.7v30H152.1zM247.2 442.7h133.3v53.4H247.2zM446.5 442.7h133.3v53.4H446.5zM645.9 442.7h133.3v53.4H645.9z\" p-id=\"8696\"></path><path d=\"M247.2 545.1h133.3v53.4H247.2zM446.5 545.1h133.3v53.4H446.5zM645.9 545.1h133.3v53.4H645.9z\" p-id=\"8697\"></path><path d=\"M247.2 647.5h133.3v53.4H247.2zM446.5 647.5h133.3v53.4H446.5zM645.9 647.5h133.3v53.4H645.9z\" p-id=\"8698\"></path></svg>\r\n              <label style=\"font-weight: bolder; font-size: large\"> 注册日期</label>\r\n            </template>\r\n            {{ enterprise.enterpriseFoundingDate }}\r\n          </el-descriptions-item>\r\n\r\n\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <svg t=\"1718477453809\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"12332\" width=\"32\" height=\"32\"><path d=\"M838.954667 234.666667H170.666667c-3.626667 0-7.168 0.448-10.56 1.322666l323.690666 323.669334a21.333333 21.333333 0 0 0 30.165334 0L838.954667 234.666667z m46.144 14.186666l-260.693334 260.693334 262.933334 262.912c5.44-7.168 8.661333-16.106667 8.661333-25.792V277.333333c0-10.944-4.117333-20.906667-10.88-28.48zM843.861333 789.333333l-249.6-249.621333-50.133333 50.133333a64 64 0 0 1-90.517333 0l-50.112-50.133333L156.373333 786.88c4.48 1.578667 9.28 2.453333 14.314667 2.453333h673.194667zM128.661333 754.218667L373.333333 509.525333 129.578667 265.813333A42.709333 42.709333 0 0 0 128 277.333333v469.333334c0 2.56 0.213333 5.098667 0.661333 7.552zM170.666667 192h682.666666a85.333333 85.333333 0 0 1 85.333334 85.333333v469.333334a85.333333 85.333333 0 0 1-85.333334 85.333333H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333333V277.333333a85.333333 85.333333 0 0 1 85.333334-85.333333z\" fill=\"#333333\" p-id=\"12333\"></path></svg>\r\n              <label style=\"font-weight: bolder; font-size: large\"> 企业邮箱地址</label>\r\n            </template>\r\n            {{ enterprise.enterpriseEmail }}\r\n          </el-descriptions-item>\r\n\r\n\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <svg t=\"1718803851173\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"10632\" width=\"32\" height=\"32\"><path d=\"M863.616 32a32 32 0 0 1 32 32v509.056l-12.8-28.16a83.84 83.84 0 0 0-73.216-49.088h-3.648l-3.648 0.064a83.84 83.84 0 0 0-72.64 50.048l-38.272 87.04-91.328 12.8c-23.168 3.2-43.52 15.872-56.64 34.368a64 64 0 1 0 7.424 106.24c0.64 0.896 1.536 1.792 2.432 2.624l70.144 68.096-17.28 98.112c-2.112 12.288-1.472 24.768 1.664 36.416L160 991.552a32 32 0 0 1-32-32V64a32 32 0 0 1 32-32h703.616zM806.4 559.744c7.808 0 14.976 4.48 18.24 11.648l54.208 118.976 16.768 2.112v267.072a32 32 0 0 1-1.92 10.88l-84.864-48.192-109.888 64.64a19.84 19.84 0 0 1-29.696-20.672l23.04-131.456L597.76 743.04a19.84 19.84 0 0 1 11.136-33.984l126.72-17.664 52.672-119.808a19.84 19.84 0 0 1 18.112-11.904z m-54.72-143.936H272a16 16 0 0 0-15.552 12.352l-0.448 3.648v64c0 7.36 5.12 13.824 12.352 15.488l3.648 0.448h479.744a16 16 0 0 0 15.552-12.352l0.448-3.648v-64a16 16 0 0 0-16-15.936z m0-223.872H272a16 16 0 0 0-15.552 12.352l-0.448 3.648v64c0 7.36 5.12 13.824 12.352 15.488l3.648 0.448h479.744a16 16 0 0 0 15.552-12.352l0.448-3.648v-64a16 16 0 0 0-16-16z\" fill=\"#707A89\" p-id=\"10633\"></path><path d=\"M919.616 985.152l-110.784-62.912-109.888 64.64a19.84 19.84 0 0 1-29.696-20.672l23.04-131.456L597.76 743.04a19.84 19.84 0 0 1 11.136-33.984l126.72-17.664 52.672-119.808a19.84 19.84 0 0 1 36.352-0.256l54.208 118.976 126.848 15.872a19.84 19.84 0 0 1 11.648 33.792l-93.248 93.056 24.96 131.072a19.84 19.84 0 0 1-29.44 20.992z\" fill=\"#FF9800\" p-id=\"10634\"></path></svg>\r\n              <label style=\"font-weight: bolder; font-size: large\"> 企业核心业务</label>\r\n            </template>\r\n            {{ enterprise.enterpriseCoreBusiness }}\r\n          </el-descriptions-item>\r\n\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <svg t=\"1719507021790\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"6273\" width=\"32\" height=\"32\"><path d=\"M0 512a512 512 0 1 0 1024 0A512 512 0 1 0 0 512z\" fill=\"#06B666\" p-id=\"6274\"></path><path d=\"M702.922 268.414H321.078a34.891 34.891 0 0 0-34.891 34.761v418.173a34.891 34.891 0 0 0 34.891 34.76h381.844a34.891 34.891 0 0 0 34.891-34.76V303.175a34.891 34.891 0 0 0-34.891-34.76z m-295.857 87.033H616.15a17.38 17.38 0 0 1 0 34.76H407.065a17.38 17.38 0 1 1 0-34.76z m0 69.52H616.15a17.511 17.511 0 0 1 0 34.892H407.065a17.511 17.511 0 1 1 0-34.891z m69.652 104.544h-69.652a17.511 17.511 0 1 1 0-34.891h69.521a17.511 17.511 0 0 1 0 34.891z m193.666 59.72l-46.653 34.5 16.597 55.8a5.62 5.62 0 0 1-1.96 5.88 5.489 5.489 0 0 1-3.137 0.915 6.273 6.273 0 0 1-3.005-0.915l-47.698-33.323-48.09 32.67a2.352 2.352 0 0 1-1.438 0h-2.613l-1.568-0.785a5.489 5.489 0 0 1-1.83-5.75l17.12-55.015-46.653-35.153a5.096 5.096 0 0 1-1.83-5.75 5.358 5.358 0 0 1 4.966-3.659h58.544l1.83-5.358 17.51-49.004a5.227 5.227 0 0 1 4.967-3.529 5.62 5.62 0 0 1 4.965 3.529l16.989 49.396 1.83 5.358h28.487l29.795 0.784a5.358 5.358 0 0 1 4.835 3.66 5.227 5.227 0 0 1-1.96 5.75z\" fill=\"#FFFFFF\" p-id=\"6275\"></path></svg>\r\n              <label style=\"font-weight: bolder; font-size: large\"> 企业用人资格</label>\r\n            </template>\r\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"用人资格详情\" placement=\"top\">\r\n              <el-button style=\"margin-left: 30px\" type=\"primary\" icon=\"el-icon-view\" @click=\"enterpriseQualificationsShow\"></el-button>\r\n            </el-tooltip>\r\n          </el-descriptions-item>\r\n\r\n        </el-descriptions>\r\n      </el-card>\r\n\r\n      <!--界面预览弹窗-->\r\n      <el-dialog :visible.sync=\"preview.previewDialog\" class=\"demo-image__lazy\">\r\n        <el-image v-for=\"index in preview.previewImageUrls\" :key=\"index\" :src=\"index\" lazy></el-image>\r\n      </el-dialog>\r\n\r\n      <el-button type=\"info\" :loading=\"true\" style=\"color:black; font-size: 20px; width: 300px; height: 66px; margin-top: 50px; margin-right: 20px; float: right\">\r\n        个人资料审核中\r\n      </el-button>\r\n    </div>\r\n\r\n    <div v-show=\"stepsShow.secondShow\">\r\n      <div id=\"container\"></div>\r\n      <el-button type=\"primary\" :loading=\"recruitmentProcess.rpFaceLocation == '' || recruitmentProcess.rpFaceLocation == undefined\" style=\"margin-left: 60px; height: 66px;\">\r\n        面试地点: {{ recruitmentProcess.rpFaceLocation }}\r\n      </el-button>\r\n      <el-button type=\"info\" :loading=\"true\" style=\"color:black; font-size: 20px; width: 300px; height: 66px; margin-top: 70px; margin-right: 20px; float: right\">\r\n        面试进行中\r\n      </el-button>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 20px;\" v-show=\"stepsShow.thirdShow\">\r\n      <el-card>\r\n        <el-descriptions class=\"margin-top\" title=\"就业协议书\" :column=\"2\" border>\r\n          <el-descriptions-item>\r\n            <template slot=\"label\">\r\n              <svg t=\"1719526638609\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5571\" width=\"32\" height=\"32\"><path d=\"M747.7 288.2c0-17.6-14.4-32.1-32.1-32.1H306.4c-17.6 0-32.1 14.4-32.1 32.1 0 17.6 14.4 32.1 32.1 32.1h409.2c17.7 0 32.1-14.5 32.1-32.1zM306.4 448c-17.6 0-32.1 14.4-32.1 32.1 0 17.6 14.4 32.1 32.1 32.1h191.1c17.7 0 32.2-14.4 32.1-32.1 0-17.6-14.4-32.1-32.1-32.1H306.4zM766.6 776.8c-2.1-2.1-4.4-3.9-6.9-5.2 18.1-25.8 28.7-57.1 28.7-90.9 0-88.2-72.4-159.6-161.7-159.6S465 592.5 465 680.7s72.4 159.6 161.7 159.6c32.7 0 63.2-9.6 88.7-26.1 1.5 2.9 3.4 5.6 5.8 8l83.3 83.3c12.5 12.5 32.9 12.5 45.4 0s12.5-32.9 0-45.4l-83.3-83.3z m-139.9 0.6c-54.1 0-98-43.3-98-96.7s43.9-96.7 98-96.7 98 43.3 98 96.7c0 53.4-43.8 96.7-98 96.7z\" fill=\"#4D4D4D\" p-id=\"5572\"></path><path d=\"M577.6 895.4H221.2c-35.2 0-64-28.8-64-64V192.8c0-35.2 28.8-64 64-64h547.3c35.2 0 64 28.8 64 64v318.4h0.3v0.1c0 17.7 14.4 32.1 32.2 32.1s32.2-14.4 32.2-32.1c0-1.2-0.1-2.3-0.2-3.5v-316c0-70.4-27.6-128-98-128H225c-70.4 0-128 57.6-128 128v639.8c0 70.4 57.6 128 128 128h352.2c17.8 0 32.2-14.4 32.2-32.1 0-17.6-14.2-31.9-31.8-32.1z\" fill=\"#4D4D4D\" p-id=\"5573\"></path><path d=\"M832.7 639.3a32.2 32.1 0 1 0 64.4 0 32.2 32.1 0 1 0-64.4 0Z\" fill=\"#4D4D4D\" p-id=\"5574\"></path></svg>\r\n              <label style=\"font-weight: bolder; font-size: large\"> 查看</label>\r\n            </template>\r\n\r\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"用人资格详情\" placement=\"top\">\r\n              <el-button style=\"margin-left: 30px\" type=\"primary\" icon=\"el-icon-view\" @click=\"fileListShowDialog\"></el-button>\r\n            </el-tooltip>\r\n          </el-descriptions-item>\r\n        </el-descriptions>\r\n      </el-card>\r\n\r\n      <!--界面预览弹窗-->\r\n      <el-dialog :visible.sync=\"fileListShow\" class=\"demo-image__lazy\">\r\n        <el-image v-for=\"index in fileList\" :key=\"index.name\" :src=\"index.url\" lazy></el-image>\r\n      </el-dialog>\r\n\r\n      <el-button @click=\"firstOff\" type=\"danger\" style=\"color:black; font-size: 20px; width: 200px; height: 66px; margin-top: 50px; margin-right: 20px; float: right\">\r\n        不同意就业协议书\r\n      </el-button>\r\n\r\n      <el-button @click=\"thirdOk\" type=\"success\" style=\"color:black; font-size: 20px; width: 200px; height: 66px; margin-top: 50px; margin-right: 20px; float: right\">\r\n        同意就业协议书\r\n      </el-button>\r\n\r\n      <canvas ref=\"canvas\" @mousedown=\"startDrawing\" @mousemove=\"draw\" @mouseup=\"stopDrawing\"></canvas>\r\n      <div>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 200px; margin-left: 550px; \"  v-show=\"stepsShow.fourthShow\">\r\n      <svg t=\"1719525633630\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4473\" width=\"200\" height=\"200\"><path d=\"M135.168 209.408c3.072-9.216 13.824-14.336 23.04-11.264l121.344 41.472c16.896 6.144 34.816 14.848 53.76 12.288 11.776-1.024 22.016-7.168 32.768-11.776 23.04-10.752 50.688-12.8 75.264-4.096 78.848 26.624 157.184 53.76 235.52 80.896 5.12 1.536 10.24 4.096 13.312 8.704 4.096 5.12 3.072 12.288 2.048 18.432-3.072 20.48-11.264 41.472-27.648 55.296-14.336 13.312-35.328 17.408-54.784 14.336-8.704-1.536-17.408-3.072-25.6-6.144-27.648-9.216-55.808-18.944-83.456-28.16C487.424 409.6 466.944 438.272 438.784 455.68c-24.576 15.872-54.272 22.528-82.944 20.48-19.456-1.024-38.4-5.632-56.832-11.776-5.632-2.048-10.752-6.144-11.776-12.288-3.072-8.704 3.584-19.456 12.8-21.504 7.168-2.048 13.824 1.536 20.48 3.072 28.672 8.704 60.928 10.24 89.088-2.56 27.136-12.8 46.592-37.888 58.88-65.024 3.584-8.192 4.608-17.92 12.288-24.064 5.12-4.096 12.288-4.096 17.92-2.048 30.72 10.24 61.952 20.992 92.672 31.744 13.824 4.608 29.184 10.24 43.52 4.608 12.288-4.096 18.944-17.408 22.016-29.696-74.752-25.6-148.992-51.2-223.744-76.8-10.752-3.584-22.528-5.632-33.792-3.584-13.824 2.048-25.6 10.24-38.4 14.848-23.552 8.704-49.664 7.168-73.216-2.048-32.768 94.208-65.024 188.928-97.792 283.136-3.072 9.216-13.312 15.36-22.528 11.776-40.448-13.312-80.384-27.648-120.832-40.96-4.096-1.536-8.704-3.584-11.264-7.68-4.608-5.632-4.096-13.824-1.536-20.48 33.28-97.28 67.072-196.608 101.376-295.424z m-49.664 253.952c-4.608 14.336-10.24 28.16-14.336 42.496 30.208 9.728 59.904 20.48 89.6 30.208 30.208-89.088 60.928-178.688 91.648-267.776-29.696-10.24-59.904-20.48-89.6-30.72-26.112 75.264-51.2 150.528-77.312 225.792z\" p-id=\"4474\"></path><path d=\"M822.784 203.264c6.144-3.072 13.312-6.144 19.968-2.56 7.68 3.072 10.24 11.264 13.824 17.92 43.52 88.576 87.04 177.664 131.072 266.24 2.56 5.632 6.656 11.264 5.632 17.408 0 6.144-4.608 11.776-10.24 14.848-35.84 17.408-71.68 35.328-107.52 52.224-3.072 1.536-6.656 3.072-9.216 5.632-25.088 24.064-50.688 47.104-77.312 69.632-28.672 22.016-58.88 43.008-91.136 59.392-22.528 12.288-45.568 23.04-68.096 34.304-54.272 26.624-108.032 52.736-162.304 79.36-8.704 4.608-18.432 8.704-28.672 9.216-23.04 1.536-46.592-12.288-54.784-33.792-2.048-5.12-3.072-10.752-4.096-16.384-12.8 6.656-26.624 13.312-41.984 11.264-28.16-2.048-51.712-28.16-50.176-56.32-18.944-0.512-37.888-10.752-47.104-27.648-11.776-18.944-9.728-44.032 3.584-61.44-7.68-6.656-14.848-14.336-18.432-24.064-7.68-19.456-3.584-43.008 11.264-58.368 5.632-6.656 13.312-10.24 20.992-14.336 24.576-11.776 49.152-24.064 73.728-35.84 5.12-2.56 10.752-5.632 16.384-4.608 9.728 1.024 17.92 11.776 14.848 20.992-1.536 8.192-9.216 12.288-16.384 15.36L271.36 578.56c-7.168 3.072-13.312 9.728-13.312 17.92-1.024 12.8 12.8 24.064 25.088 20.48 5.632-2.048 10.24-4.608 15.36-7.168 49.152-24.064 98.816-48.64 147.968-72.192 8.192-4.608 18.432-0.512 23.552 7.168 3.072 6.144 2.56 14.336-2.048 19.968-5.12 5.12-11.776 7.168-17.92 10.24C394.24 603.136 337.92 629.76 281.6 657.408c-7.168 3.584-13.824 10.752-12.8 19.456 0 9.216 7.68 16.896 16.384 18.944 7.68 1.536 14.336-3.072 20.48-6.144 61.952-30.208 123.904-60.928 185.856-91.136 4.608-2.048 9.216-5.12 14.336-5.12 10.24-0.512 19.456 9.728 17.408 19.968-0.512 6.144-4.608 10.752-9.728 13.824-58.88 28.672-117.76 57.856-177.152 86.528-7.168 3.584-13.312 10.752-13.312 18.944 0 13.312 15.872 24.064 28.16 17.92 60.928-29.696 122.368-59.904 183.296-89.6 8.704-5.12 20.992-1.024 25.088 8.192 2.56 4.096 1.536 8.704 0.512 13.312-2.56 4.096-5.632 8.192-10.24 10.24-39.936 19.456-80.384 38.912-120.32 58.88-7.68 3.584-15.36 10.752-14.848 19.968-0.512 13.824 16.384 24.576 28.672 17.92 61.952-30.208 123.392-60.416 184.832-90.624 25.6-12.288 51.2-24.576 75.776-38.912 23.552-14.848 47.104-30.208 68.608-48.64 22.016-18.432 42.496-37.888 64-57.344-44.032-90.624-89.088-181.248-133.12-271.872-5.12-8.704-1.024-20.992 8.192-25.088 37.376-17.92 74.24-35.84 111.104-53.76z m-79.872 78.848c41.472 84.48 82.432 168.96 123.904 253.44l84.48-41.472c-40.96-84.48-82.944-168.448-123.392-253.44-28.672 13.312-56.832 27.136-84.992 41.472z\" p-id=\"4475\"></path><path d=\"M85.504 463.36c26.112-75.264 51.712-150.528 77.824-225.792 29.696 10.24 59.904 19.968 89.6 30.72-30.72 89.088-61.44 178.688-91.648 267.776-29.696-10.24-59.904-20.48-89.6-30.208 3.584-14.848 9.216-28.16 13.824-42.496z\" fill=\"#A7A9AC\" p-id=\"4476\"></path><path d=\"M742.912 282.112c28.16-13.824 56.32-28.16 84.992-41.472 40.96 84.48 82.432 168.448 123.392 253.44-28.16 13.824-56.32 27.136-84.48 41.472-41.472-84.48-82.432-168.96-123.904-253.44z\" fill=\"#3C92CA\" p-id=\"4477\"></path>\r\n      </svg>\r\n      <label style=\"display: block; margin-left: 45px; color: green; font-size: larger\">此次招聘完成</label>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport AMapLoader from '@amap/amap-jsapi-loader';\r\n\r\nexport default {\r\n  mounted() {\r\n    /**\r\n     * 挂载阶段调用，DOM初始化完成进行地图初始化\r\n     */\r\n    this.initMap();\r\n\r\n    /**\r\n     * 获取用户id并根据用户id获取毕业生个人基本信息\r\n     */\r\n    let userId = JSON.parse(localStorage.getItem(\"user\")).user.userId\r\n    this.$axios.get('http://localhost:8081/graduate/query?userId='+ userId).then(res=>{\r\n      this.graduate.graduateId = res.data.graduateId\r\n      this.graduate.graduateName = res.data.graduateName\r\n      this.graduate.graduateAge = res.data.graduateAge\r\n      this.graduate.graduateSex = res.data.graduateSex\r\n      this.graduate.graduateBirthday = res.data.graduateBirthday\r\n      this.graduate.graduateCollege = res.data.graduateCollege\r\n      this.graduate.graduateGraduateDate = res.data.graduateGraduateDate\r\n      this.graduate.graduateMajor = res.data.graduateMajor\r\n      this.graduate.userId = res.data.userId\r\n      this.graduate.graduatePhone = res.data.graduatePhone\r\n      this.graduate.graduateEmail = res.data.graduateEmail\r\n      this.graduate.graduateQualificationCheck = res.data.graduateQualificationCheck\r\n\r\n      if(this.graduate.graduateQualificationCheck != '审核通过') {\r\n        const loading = this.$loading({\r\n          lock: true,\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        setTimeout(() => {\r\n          loading.close();\r\n          this.$router.push('/GraduateResumeDetails');\r\n          this.$notify({\r\n            title: '提示',\r\n            message: '请先通过毕业资格审查',\r\n            iconClass: 'el-icon-tickets'\r\n          })\r\n        }, 1000);\r\n      } else {\r\n        /**\r\n         * 如果未选择某一招聘过程就进入\r\n         */\r\n        if(this.$route.query.rpId == undefined) {\r\n          const loading = this.$loading({\r\n            lock: true,\r\n            background: 'rgba(0, 0, 0, 0.7)'\r\n          })\r\n\r\n          setTimeout(() => {\r\n            loading.close();\r\n            this.$router.push('/GraduateEmploymentNeed');\r\n            this.$notify({\r\n              title: '提示',\r\n              message: '请选择某一招聘过程',\r\n              iconClass: 'el-icon-mouse'\r\n            })\r\n          }, 1000);\r\n        } else {\r\n\r\n          this.$axios.get('http://localhost:8081/rp/query_by_rp_id?rpId=' + this.$route.query.rpId).then(res=> {\r\n            this.recruitmentProcess = {\r\n              rpId: res.data.rpId,\r\n              graduateId: res.data.graduateId,\r\n              enId: res.data.enId,\r\n              rpPhase: res.data.rpPhase,\r\n              rpCheck: res.data.rpCheck,\r\n              rpFaceLocation: res.data.rpFaceLocation,\r\n              rpWorkFile: res.data.rpWorkFile\r\n            }\r\n\r\n            if(this.recruitmentProcess.rpWorkFile != '' && this.recruitmentProcess.rpWorkFile != undefined && this.recruitmentProcess.rpWorkFile != null) {\r\n              this.recruitmentProcess.rpWorkFile.split(',').forEach(file => {\r\n                console.log(file)\r\n                if(file != '' && file != undefined && file != null) {\r\n                  this.fileList[this.fileList.length] = {\r\n                    name: file,\r\n                    url: \"http://localhost:8081/\" + file,\r\n                  }\r\n                }\r\n              })\r\n            }\r\n\r\n            if(this.recruitmentProcess.rpPhase == '简历投递') {\r\n              this.tableData.rpPhaseId = 1\r\n              this.stepsShow.firstShow = true\r\n            } else if(this.recruitmentProcess.rpPhase == '个人资料审核') {\r\n              this.tableData.rpPhaseId = 2\r\n              this.stepsShow.secondShow = true\r\n            } else if(this.recruitmentProcess.rpPhase == '面试') {\r\n              this.tableData.rpPhaseId = 3\r\n              this.stepsShow.thirdShow = true\r\n            } else if(this.recruitmentProcess.rpPhase == '就业协议书') {\r\n              this.tableData.rpPhaseId = 5\r\n              this.stepsShow.fourthShow = true\r\n            } else if(this.recruitmentProcess.rpPhase == '招聘完成') {\r\n              this.tableData.rpPhaseId = 5\r\n              this.stepsShow.fifthShow = true\r\n            }\r\n          })\r\n\r\n          /**\r\n           * 从数据库中根据enterpriseId查询企业并保存在enterprise中\r\n           */\r\n          this.$axios.get('http://localhost:8081/enterprise/query_by_enterprise_id?enterpriseId=' + this.$route.query.enterpriseId).then(res=>{\r\n            this.enterprise = {\r\n              enterpriseId: res.data.enterpriseId,\r\n              enterpriseName: res.data.enterpriseName,\r\n              enterpriseRegistrationPlace: res.data.enterpriseRegistrationPlace,\r\n              enterpriseRegisteredCapital: res.data.enterpriseRegisteredCapital,\r\n              enterpriseLegalRepresentative: res.data.enterpriseLegalRepresentative,\r\n              enterpriseFoundingDate: res.data.enterpriseFoundingDate,\r\n              enterpriseEmail: res.data.enterpriseEmail,\r\n              enterpriseCoreBusiness: res.data.enterpriseCoreBusiness,\r\n              userId: res.data.userId,\r\n              enterpriseQualificationsCheck: res.data.enterpriseQualificationsCheck,\r\n            }\r\n\r\n            /**\r\n             * 根据企业id获取企业用人资料相关信息\r\n             */\r\n            this.$axios.get('http://localhost:8081/eq/query_by_enterprise_id?enterpriseId=' + this.enterprise.enterpriseId).then(res2=>{\r\n              for(let j = 0; j < res2.data.length; j++) {\r\n                this.enterpriseQualificationsList[j] = {\r\n                  enterpriseId: res2.data[j].enterpriseId,\r\n                  eqId: res2.data[j].eqId,\r\n                  eqIndex: res2.data[j].eqIndex,\r\n                }\r\n\r\n                /**\r\n                 * 为tableDataList赋值展示数据\r\n                 */\r\n                this.preview.previewImageUrls[j] = \"http://localhost:8081/\" + this.enterpriseQualificationsList[j].eqIndex\r\n              }\r\n            })\r\n          })\r\n\r\n\r\n        }\r\n      }\r\n    })\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      /**\r\n       * 就业协议书表\r\n       */\r\n      fileList: [],\r\n      fileListShow: false,\r\n\r\n      /**\r\n       * 就业协议书展示\r\n       */\r\n      workFileShow: true,\r\n\r\n      /**\r\n       * 初始化 map 对象\r\n       */\r\n      map: null,\r\n\r\n      /**\r\n       * 毕业生个人基本信息\r\n       */\r\n      graduate: {\r\n        graduateId: 0,\r\n        graduateName: '',\r\n        graduateAge: '',\r\n        graduateSex: '',\r\n        graduateBirthday: '',\r\n        graduateCollege: '',\r\n        graduateGraduateDate: '',\r\n        graduateMajor: '',\r\n        userId: 0,\r\n        graduatePhone: '',\r\n        graduateEmail: '',\r\n        graduateQualificationCheck: '',\r\n      },\r\n\r\n      /**\r\n       * 招聘过程\r\n       */\r\n      recruitmentProcess: {\r\n        rpId: 0,\r\n        graduateId: 0,\r\n        enId: 0,\r\n        rpPhase: '',\r\n        rpCheck: '',\r\n        rpFaceLocation: '',\r\n        rpWorkFile: '',\r\n      },\r\n\r\n      /**\r\n       * 企业基本信息\r\n       */\r\n      enterprise: {\r\n        enterpriseId: 0,\r\n        enterpriseName: '',\r\n        enterpriseRegistrationPlace: '',\r\n        enterpriseRegisteredCapital: '',\r\n        enterpriseLegalRepresentative: '',\r\n        enterpriseFoundingDate: '',\r\n        enterpriseEmail: '',\r\n        enterpriseCoreBusiness: '',\r\n        userId: 0,\r\n        enterpriseQualificationsCheck: '',\r\n      },\r\n\r\n      /**\r\n       * 企业用人资格信息\r\n       */\r\n      enterpriseQualificationsList: [{\r\n        enterpriseId: 0,\r\n        eqId: 0,\r\n        eqIndex: '',\r\n      }],\r\n\r\n      /**\r\n       * 界面预览弹窗显示对象\r\n       */\r\n      preview: {\r\n        previewDialog: false,\r\n        previewImageUrls: [''],\r\n      },\r\n\r\n\r\n\r\n      tableData: {\r\n        enId: '1',\r\n        graduateId: '6',\r\n        rpPhase: '简历审核',\r\n        rpPhaseId: 0,\r\n      },\r\n\r\n      /**\r\n       * 用于展示某一步\r\n       */\r\n      stepsShow: {\r\n        firstShow: false,\r\n        secondShow: false,\r\n        thirdShow: false,\r\n        fourthShow: false,\r\n        fifthShow: false,\r\n      },\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 鼠标按下时触发\r\n    startDrawing(event) {\r\n      this.isDrawing = true; // 开始绘制\r\n      const { offsetX, offsetY } = event; // 获取鼠标相对于Canvas的偏移量\r\n      this.context.beginPath(); // 开始新的路径\r\n      this.context.moveTo(offsetX, offsetY); // 将路径移动到鼠标位置\r\n    },\r\n    // 当鼠标在 Canvas 上移动时触发\r\n    draw(event) {\r\n      if (!this.isDrawing) return; // 如果没有在绘制中，则返回\r\n      const { offsetX, offsetY } = event; // 获取鼠标相对于Canvas的偏移量\r\n      this.context.lineTo(offsetX, offsetY); // 绘制路径\r\n      this.context.stroke(); // 绘制路径的边框\r\n    },\r\n    // 当鼠标松开时触发，用于停止绘制签名\r\n    stopDrawing() {\r\n      this.isDrawing = false; // 停止绘制\r\n    },\r\n    // 清除\r\n    clearCanvas() {\r\n      this.context.clearRect(\r\n          0,\r\n          0,\r\n          this.$refs.canvas.width,\r\n          this.$refs.canvas.height\r\n      ); // 清除Canvas上的内容\r\n    },\r\n\r\n    /**\r\n     * 地图初始化加载\r\n     */\r\n    initMap() {\r\n      AMapLoader.load({\r\n        key: \"ba38ade2e475299da6034aa0cabfecaf\",  //此处填入我们注册账号后获取的Key\r\n        version: \"2.0\",                           //指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15\r\n        plugins: [''],                            //需要使用的的插件列表，如比例尺'AMap.Scale'等\r\n      }).then((AMap) => {\r\n        this.map = new AMap.Map(\"container\", {    //设置地图容器id\r\n          viewMode: \"2D\",                         //是否为3D地图模式\r\n          zoom: 5,                                //初始化地图级别\r\n          center: [105.602725, 37.076636],        //初始化地图中心点位置\r\n        });\r\n\r\n        // 绑定地图事件\r\n        this.map.on(\"click\", this.handleMapClick);\r\n      }).catch(e => {\r\n        console.log(e);\r\n      })\r\n\r\n\r\n    },\r\n\r\n    thirdOk() {\r\n      /**\r\n       * 修改信息\r\n       */\r\n      this.recruitmentProcess.rpPhase = '就业协议书'\r\n\r\n      this.$axios.post('http://localhost:8081/rp/update', this.recruitmentProcess).then(res=> {\r\n        //判断是否添加成功并返回对应信息\r\n        if (res.data == \"修改OK\") {\r\n          this.$message({message: '就业协议书签字成功', type: 'success'})\r\n\r\n          /**\r\n           * 修改展示信息\r\n           */\r\n          this.tableData.rpPhase = '就业协议书'\r\n          this.tableData.rpPhaseId = 5\r\n          this.stepsShow.thirdShow = false\r\n          this.stepsShow.fourthShow = true\r\n        }\r\n      })\r\n    },\r\n\r\n    handleMapClick(e) {\r\n      let position = '' + e.lnglat.lng + ',' + e.lnglat.lat + ''\r\n      this.$axios.get('https://restapi.amap.com/v3/geocode/regeo?key=bed5f199a63ff072651a76b9f4d7c9a8&location=' + position).then(res=>{\r\n        console.log(res)\r\n      })\r\n    },\r\n\r\n    /**\r\n     * 展示资质信息\r\n     */\r\n    enterpriseQualificationsShow() {\r\n      this.preview.previewDialog = true\r\n    },\r\n\r\n    /**\r\n     * 展示就业协议书\r\n     */\r\n    fileListShowDialog() {\r\n      this.fileListShow = true\r\n    }\r\n  },\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n#container {\r\n  width: 90%;\r\n  height: 500px;\r\n  margin: 50px auto;\r\n  border: 2px solid black;\r\n}\r\n\r\ncanvas {\r\n  border: 1px solid red;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}