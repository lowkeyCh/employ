{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  mounted() {\n    if (this.$route.path != '/EnterpriseENGraduates') this.$route.path = '/EnterpriseENGraduates';\n\n    /**\r\n     * 获取用户id并根据用户id获取企业基本信息\r\n     */\n    let userId = JSON.parse(localStorage.getItem(\"user\")).user.userId;\n    this.$axios.get('http://localhost:8081/enterprise/query?userId=' + userId).then(res => {\n      this.enterprise.enterpriseId = res.data.enterpriseId;\n      this.enterprise.enterpriseName = res.data.enterpriseName;\n      this.enterprise.enterpriseRegistrationPlace = res.data.enterpriseRegistrationPlace;\n      this.enterprise.enterpriseRegisteredCapital = res.data.enterpriseRegisteredCapital;\n      this.enterprise.enterpriseLegalRepresentative = res.data.enterpriseLegalRepresentative;\n      this.enterprise.enterpriseFoundingDate = res.data.enterpriseFoundingDate;\n      this.enterprise.enterpriseEmail = res.data.enterpriseEmail;\n      this.enterprise.enterpriseCoreBusiness = res.data.enterpriseCoreBusiness;\n      this.enterprise.userId = res.data.userId;\n      this.enterprise.enterpriseQualificationsCheck = res.data.enterpriseQualificationsCheck;\n      if (res.data.enterpriseQualificationsCheck != '审核通过') {\n        const loading = this.$loading({\n          lock: true,\n          background: 'rgba(0, 0, 0, 0.7)'\n        });\n        setTimeout(() => {\n          loading.close();\n          this.$router.push('/EnterpriseResume');\n          this.$notify({\n            title: '提示',\n            message: '请先通过企业用人资格审查',\n            iconClass: 'el-icon-tickets'\n          });\n        }, 1000);\n      } else {\n        /**\r\n         * 如果未选择某一招聘过程就进入\r\n         */\n        if (this.$route.query.enId == undefined) {\n          const loading = this.$loading({\n            lock: true,\n            background: 'rgba(0, 0, 0, 0.7)'\n          });\n          setTimeout(() => {\n            loading.close();\n            this.$router.push('/EnterpriseEmploymentNeed');\n            this.$notify({\n              title: '提示',\n              message: '请选择某一用人需求',\n              iconClass: 'el-icon-mouse'\n            });\n          }, 1000);\n        } else {\n          /**\r\n           * 获取当前用人需求对应毕业生集合\r\n           */\n          this.$axios.get('http://localhost:8081/rp/query_by_en_id?enId=' + this.$route.query.enId).then(res => {\n            for (let i = 0; i < res.data.length; i++) {\n              this.recruitmentProcessList[i] = {\n                rpId: res.data[i].rpId,\n                graduateId: res.data[i].graduateId,\n                enId: res.data[i].enId,\n                rpPhase: res.data[i].rpPhase\n              };\n              this.formDataList[i] = {\n                rpId: 0,\n                rpPhase: '',\n                graduateId: 0,\n                quartersThird: '',\n                graduateName: '',\n                graduateCollege: '',\n                graduateMajor: '',\n                graduatePhone: ''\n              };\n              this.formDataList[i].rpId = res.data[i].rpId;\n              this.formDataList[i].rpPhase = res.data[i].rpPhase;\n              this.formDataList[i].quartersThird = this.$route.query.quartersThird;\n\n              /**\r\n               * 根据当前毕业生id查询毕业生信息\r\n               */\n              this.$axios.get('http://localhost:8081/graduate/query_by_graduate_id?graduateId=' + this.recruitmentProcessList[i].graduateId).then(res3 => {\n                this.formDataList[i].graduateId = res3.data.graduateId;\n                this.formDataList[i].graduateName = res3.data.graduateName;\n                this.formDataList[i].graduateCollege = res3.data.graduateCollege;\n                this.formDataList[i].graduateMajor = res3.data.graduateMajor;\n                this.formDataList[i].graduatePhone = res3.data.graduatePhone;\n\n                /**\r\n                 * 重新渲染el-upload\r\n                 */\n                // 移除组件\n                this.formDataListShow = false;\n                // 在组件移除后，重新渲染组件\n                // this.$nextTick可实现在DOM 状态更新后，执行传入的方法。\n                this.$nextTick(() => {\n                  this.formDataListShow = true;\n                });\n              });\n            }\n          });\n        }\n      }\n    });\n  },\n  data() {\n    return {\n      /**\r\n       * 企业基本信息\r\n       */\n      enterprise: {\n        enterpriseId: 0,\n        enterpriseName: '',\n        enterpriseRegistrationPlace: '',\n        enterpriseRegisteredCapital: '',\n        enterpriseLegalRepresentative: '',\n        enterpriseFoundingDate: '',\n        enterpriseEmail: '',\n        enterpriseCoreBusiness: '',\n        userId: 0,\n        enterpriseQualificationsCheck: ''\n      },\n      /**\r\n       * 毕业生个人基本信息\r\n       */\n      graduate: {\n        graduateId: 0,\n        graduateName: '',\n        graduateAge: '',\n        graduateSex: '',\n        graduateBirthday: '',\n        graduateCollege: '',\n        graduateGraduateDate: '',\n        graduateMajor: '',\n        userId: 0,\n        graduatePhone: '',\n        graduateEmail: '',\n        graduateQualificationCheck: ''\n      },\n      /**\r\n       * 招聘过程集合\r\n       */\n      recruitmentProcessList: [{\n        rpId: 0,\n        graduateId: 0,\n        enId: 0,\n        rpPhase: ''\n      }],\n      /**\r\n       * 展示数据\r\n       */\n      formDataList: [],\n      /**\r\n       * 展示数据渲染控制\r\n       */\n      formDataListShow: true\n    };\n  },\n  methods: {\n    goto(tableData) {\n      this.$router.push({\n        path: '/GraduateRecruitmentProcess',\n        query: {\n          rpId: tableData.rpId,\n          graduateId: tableData.graduateId\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["mounted","$route","path","userId","JSON","parse","localStorage","getItem","user","$axios","get","then","res","enterprise","enterpriseId","data","enterpriseName","enterpriseRegistrationPlace","enterpriseRegisteredCapital","enterpriseLegalRepresentative","enterpriseFoundingDate","enterpriseEmail","enterpriseCoreBusiness","enterpriseQualificationsCheck","loading","$loading","lock","background","setTimeout","close","$router","push","$notify","title","message","iconClass","query","enId","undefined","i","length","recruitmentProcessList","rpId","graduateId","rpPhase","formDataList","quartersThird","graduateName","graduateCollege","graduateMajor","graduatePhone","res3","formDataListShow","$nextTick","graduate","graduateAge","graduateSex","graduateBirthday","graduateGraduateDate","graduateEmail","graduateQualificationCheck","methods","goto","tableData"],"sources":["src/components/enterprise/recruitment_process/EnterpriseENGraduates.vue"],"sourcesContent":["<template>\r\n  <el-table\r\n      :data=\"formDataList\"\r\n      v-if=\"formDataListShow\"\r\n      style=\"width: 100%\"\r\n  >\r\n    <el-table-column align=\"center\" label=\"ID\" width=\"100\" type=\"index\">\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"quartersThird\"\r\n        label=\"职位名称\"\r\n        width=\"180\"\r\n    >\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"graduateName\"\r\n        label=\"毕业生姓名\"\r\n        width=\"180\"\r\n    >\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"graduateCollege\"\r\n        label=\"毕业院校\"\r\n        width=\"180\"\r\n    >\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"graduateMajor\"\r\n        label=\"所学专业\"\r\n    >\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"graduatePhone\"\r\n        label=\"联系电话\"\r\n    >\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"rpPhase\"\r\n        label=\"招聘进度\"\r\n    >\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        label=\"操作\"\r\n        width=\"100\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button @click=\"goto(scope.row)\" type=\"text\" size=\"small\">查看详情</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  mounted() {\r\n    if(this.$route.path != '/EnterpriseENGraduates')\r\n      this.$route.path = '/EnterpriseENGraduates'\r\n\r\n    /**\r\n     * 获取用户id并根据用户id获取企业基本信息\r\n     */\r\n    let userId = JSON.parse(localStorage.getItem(\"user\")).user.userId\r\n    this.$axios.get('http://localhost:8081/enterprise/query?userId='+ userId).then(res=> {\r\n      this.enterprise.enterpriseId = res.data.enterpriseId\r\n      this.enterprise.enterpriseName = res.data.enterpriseName\r\n      this.enterprise.enterpriseRegistrationPlace = res.data.enterpriseRegistrationPlace\r\n      this.enterprise.enterpriseRegisteredCapital = res.data.enterpriseRegisteredCapital\r\n      this.enterprise.enterpriseLegalRepresentative = res.data.enterpriseLegalRepresentative\r\n      this.enterprise.enterpriseFoundingDate = res.data.enterpriseFoundingDate\r\n      this.enterprise.enterpriseEmail = res.data.enterpriseEmail\r\n      this.enterprise.enterpriseCoreBusiness = res.data.enterpriseCoreBusiness\r\n      this.enterprise.userId = res.data.userId\r\n      this.enterprise.enterpriseQualificationsCheck = res.data.enterpriseQualificationsCheck\r\n\r\n      if(res.data.enterpriseQualificationsCheck != '审核通过') {\r\n        const loading = this.$loading({\r\n          lock: true,\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        setTimeout(() => {\r\n          loading.close();\r\n          this.$router.push('/EnterpriseResume');\r\n          this.$notify({\r\n            title: '提示',\r\n            message: '请先通过企业用人资格审查',\r\n            iconClass: 'el-icon-tickets'\r\n          })\r\n        }, 1000);\r\n      } else {\r\n        /**\r\n         * 如果未选择某一招聘过程就进入\r\n         */\r\n        if(this.$route.query.enId == undefined) {\r\n          const loading = this.$loading({\r\n            lock: true,\r\n            background: 'rgba(0, 0, 0, 0.7)'\r\n          })\r\n\r\n          setTimeout(() => {\r\n            loading.close();\r\n            this.$router.push('/EnterpriseEmploymentNeed');\r\n            this.$notify({\r\n              title: '提示',\r\n              message: '请选择某一用人需求',\r\n              iconClass: 'el-icon-mouse'\r\n            })\r\n          }, 1000);\r\n        } else {\r\n          /**\r\n           * 获取当前用人需求对应毕业生集合\r\n           */\r\n          this.$axios.get('http://localhost:8081/rp/query_by_en_id?enId=' + this.$route.query.enId).then(res=> {\r\n            for(let i = 0; i < res.data.length; i++) {\r\n              this.recruitmentProcessList[i] = {\r\n                rpId: res.data[i].rpId,\r\n                graduateId: res.data[i].graduateId,\r\n                enId: res.data[i].enId,\r\n                rpPhase: res.data[i].rpPhase,\r\n              }\r\n              this.formDataList[i] = {\r\n                rpId: 0,\r\n                rpPhase: '',\r\n                graduateId: 0,\r\n                quartersThird: '',\r\n                graduateName: '',\r\n                graduateCollege: '',\r\n                graduateMajor: '',\r\n                graduatePhone: '',\r\n              }\r\n              this.formDataList[i].rpId = res.data[i].rpId\r\n              this.formDataList[i].rpPhase = res.data[i].rpPhase\r\n              this.formDataList[i].quartersThird = this.$route.query.quartersThird\r\n\r\n              /**\r\n               * 根据当前毕业生id查询毕业生信息\r\n               */\r\n              this.$axios.get('http://localhost:8081/graduate/query_by_graduate_id?graduateId='+ this.recruitmentProcessList[i].graduateId).then(res3=>{\r\n                this.formDataList[i].graduateId = res3.data.graduateId\r\n                this.formDataList[i].graduateName = res3.data.graduateName\r\n                this.formDataList[i].graduateCollege = res3.data.graduateCollege\r\n                this.formDataList[i].graduateMajor = res3.data.graduateMajor\r\n                this.formDataList[i].graduatePhone = res3.data.graduatePhone\r\n\r\n                /**\r\n                 * 重新渲染el-upload\r\n                 */\r\n                // 移除组件\r\n                this.formDataListShow = false\r\n                // 在组件移除后，重新渲染组件\r\n                // this.$nextTick可实现在DOM 状态更新后，执行传入的方法。\r\n                this.$nextTick(() => {\r\n                  this.formDataListShow = true\r\n                })\r\n              })\r\n            }\r\n          })\r\n\r\n\r\n        }\r\n      }\r\n    })\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      /**\r\n       * 企业基本信息\r\n       */\r\n      enterprise: {\r\n        enterpriseId: 0,\r\n        enterpriseName: '',\r\n        enterpriseRegistrationPlace: '',\r\n        enterpriseRegisteredCapital: '',\r\n        enterpriseLegalRepresentative: '',\r\n        enterpriseFoundingDate: '',\r\n        enterpriseEmail: '',\r\n        enterpriseCoreBusiness: '',\r\n        userId: 0,\r\n        enterpriseQualificationsCheck: '',\r\n      },\r\n\r\n      /**\r\n       * 毕业生个人基本信息\r\n       */\r\n      graduate: {\r\n        graduateId: 0,\r\n        graduateName: '',\r\n        graduateAge: '',\r\n        graduateSex: '',\r\n        graduateBirthday: '',\r\n        graduateCollege: '',\r\n        graduateGraduateDate: '',\r\n        graduateMajor: '',\r\n        userId: 0,\r\n        graduatePhone: '',\r\n        graduateEmail: '',\r\n        graduateQualificationCheck: '',\r\n      },\r\n\r\n      /**\r\n       * 招聘过程集合\r\n       */\r\n      recruitmentProcessList: [{\r\n        rpId: 0,\r\n        graduateId: 0,\r\n        enId: 0,\r\n        rpPhase: '',\r\n      }],\r\n\r\n      /**\r\n       * 展示数据\r\n       */\r\n      formDataList: [],\r\n\r\n      /**\r\n       * 展示数据渲染控制\r\n       */\r\n      formDataListShow: true,\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    goto(tableData) {\r\n      this.$router.push({\r\n        path: '/GraduateRecruitmentProcess',\r\n        query: {\r\n          rpId: tableData.rpId,\r\n          graduateId: tableData.graduateId\r\n        }\r\n      })\r\n    }\r\n  },\r\n\r\n\r\n}\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}