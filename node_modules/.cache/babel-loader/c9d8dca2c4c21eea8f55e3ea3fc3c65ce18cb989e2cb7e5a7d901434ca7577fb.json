{"ast":null,"code":"import { pcaTextArr } from 'element-china-area-data';\nexport default {\n  mounted() {\n    /**\r\n     * 获取用户id并根据用户id获取企业id\r\n     */\n    let userId = JSON.parse(localStorage.getItem(\"user\")).user.userId;\n    this.$axios.get('http://localhost:8081/enterprise/query?userId=' + userId).then(res => {\n      this.formData.enterpriseId = res.data.enterpriseId;\n    });\n\n    /**\r\n     * 从数据库中读取所有职位\r\n     */\n    this.$axios.get('http://localhost:8081/quarters/query_all').then(res => {\n      for (let i = 0; i < res.data.length; i++) {\n        this.quartersList[i] = {\n          quartersId: res.data[i].quartersId,\n          quartersFirst: res.data[i].quartersFirst,\n          quartersSecond: res.data[i].quartersSecond,\n          quartersThird: res.data[i].quartersThird\n        };\n      }\n\n      /**\r\n       * 为quartersFirst赋值\r\n       */\n      for (let i = 0; i < this.quartersList.length; i++) {\n        /**\r\n         * 判断当前条目是否存在 不存在则添加\r\n         * @type {boolean}\r\n         */\n        let flag = false;\n        for (let j = 0; j < this.quartersFirst.length; j++) {\n          if (this.quartersList[i].quartersFirst == this.quartersFirst[j].value) flag = true;\n        }\n        if (!flag) this.quartersFirst[this.quartersFirst.length] = {\n          value: this.quartersList[i].quartersFirst\n        };\n      }\n    });\n  },\n  methods: {\n    createEmploymentNeed() {\n      /**\r\n       * 将工作地址数组转化为工作地址字符串\r\n       */\n      this.formData.enWorkPlace += this.formData.enWorkPlaceList[0];\n      for (let i = 1; i < this.formData.enWorkPlaceList.length; i++) {\n        this.formData.enWorkPlace += '-' + this.formData.enWorkPlaceList[i];\n      }\n\n      /**\r\n       * 剩余招聘人数赋值\r\n       */\n      this.formData.enRecentNumber = this.formData.enNumber;\n      console.log(this.formData);\n      this.$axios.post('http://localhost:8081/en/add', this.formData).then(res => {\n        if (res.data == \"添加OK\") this.$message({\n          message: '发布成功',\n          type: 'success'\n        });\n\n        /**\r\n         * 初始化formData\r\n         */\n        this.resetFormData();\n      });\n    },\n    resetFormData() {\n      this.formData = {\n        quartersId: 1,\n        quarters: [],\n        enOccupationDescription: '',\n        enPay: '',\n        enNumber: '',\n        enRecentNumber: '',\n        enWorkPlaceList: [],\n        enWorkPlace: '',\n        enEndDate: '',\n        enterpriseId: 0\n      };\n    }\n  },\n  data() {\n    return {\n      pcaTextArr,\n      formData: {\n        quartersId: 1,\n        quarters: [],\n        enOccupationDescription: '',\n        enPay: '',\n        enNumber: '',\n        enRecentNumber: '',\n        enWorkPlaceList: [],\n        enWorkPlace: '',\n        enEndDate: ''\n      },\n      /**\r\n       * 招聘人数\r\n       */\n      enNumberList: [{\n        value: '1',\n        label: '1'\n      }, {\n        value: '2',\n        label: '2'\n      }, {\n        value: '3',\n        label: '3'\n      }, {\n        value: '4',\n        label: '4'\n      }, {\n        value: '5',\n        label: '5'\n      }],\n      /**\r\n       * 招聘薪资\r\n       */\n      enPayList: [{\n        value: '3k',\n        label: '3k'\n      }, {\n        value: '4k',\n        label: '4k'\n      }, {\n        value: '6k',\n        label: '6k'\n      }, {\n        value: '8k',\n        label: '8k'\n      }, {\n        value: '10k',\n        label: '10k'\n      }, {\n        value: '12k',\n        label: '12k'\n      }, {\n        value: '15k',\n        label: '15k'\n      }],\n      /**\r\n       * 从数据库中读取的职位名称表\r\n       */\n      quartersList: [{\n        quartersId: 0,\n        quartersFirst: '',\n        quartersSecond: '',\n        quartersThird: ''\n      }],\n      /**\r\n       * 用于显示领域\r\n       */\n      quartersFirst: [],\n      quartersFirstSelected: '',\n      /**\r\n       * 用于显示模块\r\n       */\n      quartersSecond: [{\n        value: ''\n      }],\n      quartersSecondSelected: '',\n      /**\r\n       * 用于显示工种\r\n       */\n      quartersThird: [{\n        value: ''\n      }],\n      quartersThirdSelected: ''\n    };\n  }\n};","map":{"version":3,"names":["pcaTextArr","mounted","userId","JSON","parse","localStorage","getItem","user","$axios","get","then","res","formData","enterpriseId","data","i","length","quartersList","quartersId","quartersFirst","quartersSecond","quartersThird","flag","j","value","methods","createEmploymentNeed","enWorkPlace","enWorkPlaceList","enRecentNumber","enNumber","console","log","post","$message","message","type","resetFormData","quarters","enOccupationDescription","enPay","enEndDate","enNumberList","label","enPayList","quartersFirstSelected","quartersSecondSelected","quartersThirdSelected"],"sources":["src/components/enterprise/EnterpriseReleaseEN.vue"],"sourcesContent":["<script>\r\n  import { pcaTextArr } from 'element-china-area-data'\r\n  export default {\r\n    mounted() {\r\n      /**\r\n       * 获取用户id并根据用户id获取企业id\r\n       */\r\n      let userId = JSON.parse(localStorage.getItem(\"user\")).user.userId\r\n      this.$axios.get('http://localhost:8081/enterprise/query?userId='+ userId).then(res=>{\r\n        this.formData.enterpriseId = res.data.enterpriseId\r\n      })\r\n\r\n      /**\r\n       * 从数据库中读取所有职位\r\n       */\r\n      this.$axios.get('http://localhost:8081/quarters/query_all').then(res=>{\r\n        for(let i = 0; i < res.data.length; i++) {\r\n          this.quartersList[i] = {\r\n            quartersId: res.data[i].quartersId,\r\n            quartersFirst: res.data[i].quartersFirst,\r\n            quartersSecond: res.data[i].quartersSecond,\r\n            quartersThird: res.data[i].quartersThird,\r\n          }\r\n        }\r\n\r\n        /**\r\n         * 为quartersFirst赋值\r\n         */\r\n        for(let i = 0; i < this.quartersList.length; i++) {\r\n          /**\r\n           * 判断当前条目是否存在 不存在则添加\r\n           * @type {boolean}\r\n           */\r\n          let flag = false\r\n          for(let j = 0; j < this.quartersFirst.length; j++) {\r\n            if(this.quartersList[i].quartersFirst == this.quartersFirst[j].value)\r\n              flag = true\r\n          }\r\n          if(!flag)\r\n            this.quartersFirst[this.quartersFirst.length] = {\r\n              value: this.quartersList[i].quartersFirst,\r\n            }\r\n        }\r\n      })\r\n    },\r\n\r\n    methods: {\r\n      createEmploymentNeed() {\r\n        /**\r\n         * 将工作地址数组转化为工作地址字符串\r\n         */\r\n        this.formData.enWorkPlace += this.formData.enWorkPlaceList[0]\r\n        for (let i = 1; i < this.formData.enWorkPlaceList.length ; i++) {\r\n          this.formData.enWorkPlace += '-' + this.formData.enWorkPlaceList[i]\r\n        }\r\n\r\n        /**\r\n         * 剩余招聘人数赋值\r\n         */\r\n        this.formData.enRecentNumber = this.formData.enNumber\r\n\r\n        console.log(this.formData)\r\n        this.$axios.post('http://localhost:8081/en/add', this.formData).then(res=>{\r\n          if(res.data == \"添加OK\")\r\n            this.$message({ message: '发布成功', type: 'success'})\r\n\r\n          /**\r\n           * 初始化formData\r\n           */\r\n          this.resetFormData()\r\n        })\r\n      },\r\n\r\n      resetFormData() {\r\n        this.formData = {\r\n          quartersId: 1,\r\n          quarters: [],\r\n          enOccupationDescription: '',\r\n          enPay: '',\r\n          enNumber: '',\r\n          enRecentNumber: '',\r\n          enWorkPlaceList: [],\r\n          enWorkPlace: '',\r\n          enEndDate: '',\r\n          enterpriseId: 0,\r\n        }\r\n      }\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        pcaTextArr,\r\n\r\n        formData: {\r\n          quartersId: 1,\r\n          quarters: [],\r\n          enOccupationDescription: '',\r\n          enPay: '',\r\n          enNumber: '',\r\n          enRecentNumber: '',\r\n          enWorkPlaceList: [],\r\n          enWorkPlace: '',\r\n          enEndDate: '',\r\n        },\r\n\r\n        /**\r\n         * 招聘人数\r\n         */\r\n        enNumberList: [\r\n        {\r\n          value: '1',\r\n          label: '1'\r\n        },\r\n        {\r\n          value: '2',\r\n          label: '2'\r\n        },\r\n        {\r\n          value: '3',\r\n          label: '3'\r\n        },\r\n        {\r\n          value: '4',\r\n          label: '4'\r\n        },\r\n        {\r\n          value: '5',\r\n          label: '5'\r\n        }],\r\n\r\n        /**\r\n         * 招聘薪资\r\n         */\r\n        enPayList: [\r\n        {\r\n          value: '3k',\r\n          label: '3k'\r\n        },\r\n        {\r\n          value: '4k',\r\n          label: '4k'\r\n        },\r\n        {\r\n          value: '6k',\r\n          label: '6k'\r\n        },\r\n        {\r\n          value: '8k',\r\n          label: '8k'\r\n        },\r\n        {\r\n          value: '10k',\r\n          label: '10k'\r\n        },\r\n        {\r\n          value: '12k',\r\n          label: '12k'\r\n        },\r\n        {\r\n          value: '15k',\r\n          label: '15k'\r\n        }],\r\n\r\n\r\n        /**\r\n         * 从数据库中读取的职位名称表\r\n         */\r\n        quartersList:[{\r\n          quartersId: 0,\r\n          quartersFirst: '',\r\n          quartersSecond: '',\r\n          quartersThird: '',\r\n        }],\r\n\r\n        /**\r\n         * 用于显示领域\r\n         */\r\n        quartersFirst: [],\r\n        quartersFirstSelected: '',\r\n\r\n        /**\r\n         * 用于显示模块\r\n         */\r\n        quartersSecond: [{value: ''}],\r\n        quartersSecondSelected: '',\r\n\r\n        /**\r\n         * 用于显示工种\r\n         */\r\n        quartersThird: [{value: ''}],\r\n        quartersThirdSelected: '',\r\n      }\r\n    },\r\n\r\n\r\n  }\r\n</script>\r\n\r\n<template>\r\n  <div class=\"AllRequire\">\r\n\r\n    <div class=\"myPicture\">\r\n      <el-row >\r\n        <el-card :body-style=\"{ padding: '0px' }\">\r\n          <div class=\"word\">\r\n            <span style=\"font-style: normal;font-size: 34px;font-weight: bolder;height:auto;display: block;text-align: left;white-space: pre-wrap;word-break:break-all;\">去发布一个职位吧</span>\r\n            <span style=\"font-style: normal;font-size: 25px;height:auto;display: block;text-align: left;white-space: pre-wrap;word-break:break-all;\">开启高效招聘方式</span>\r\n          </div>\r\n          <div>\r\n            <img src=\"https://img.bosszhipin.com/static/file/2023/n3fa5j6es61684132314764.png\" class=\"image\" style=\"width: 500px; height: 550px\">\r\n          </div>\r\n        </el-card>\r\n      </el-row>\r\n    </div>\r\n\r\n    <div class=\"myRequire\">\r\n\r\n      <el-form :model=\"formData\" label-width=\"80px\">\r\n\r\n        <el-form-item label=\"职业范畴\">\r\n          <el-select v-model=\"quartersFirstSelected\" placeholder=\"请选择领域\" v-if=\"quartersFirstSelected\">\r\n            <el-option\r\n                v-for=\"qf in quartersFirst\"\r\n                :key=\"qf.value\"\r\n                :label=\"qf.value\"\r\n                :value=\"qf.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"职位描述\">\r\n          <el-input type=\"textarea\" v-model=\"formData.enOccupationDescription\" filterable placeholder=\"简要描述工作内容\" style=\"width: 500px\">\r\n\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"薪资范围\">\r\n          <el-select v-model=\"formData.enPay\" filterable placeholder=\"最低月薪\">\r\n            <el-option\r\n                v-for=\"item in enPayList\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"招聘人数\">\r\n          <el-select v-model=\"formData.enNumber\" filterable placeholder=\"总共招聘几人\">\r\n            <el-option\r\n                v-for=\"item in enNumberList\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"工作地点\">\r\n          <el-cascader\r\n              size=\"large\"\r\n              :options=\"pcaTextArr\"\r\n              v-model=\"formData.enWorkPlaceList\"\r\n              clearable\r\n              filterable\r\n          >\r\n          </el-cascader>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"截止日期\">\r\n          <input type=\"date\" style=\"background-color: white; border: 1px rgba(0,0,0,0.16) solid\" v-model=\"formData.enEndDate\">\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"createEmploymentNeed\">立即创建</el-button>\r\n          <el-button @click=\"resetFormData\">重置</el-button>\r\n        </el-form-item>\r\n\r\n\r\n      </el-form>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n  .myPicture{\r\n    width: 45%;\r\n    position: relative;\r\n    top: 30px;\r\n    left: 5px;\r\n  }\r\n\r\n  .myRequire{\r\n    width: 45%;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 140px;\r\n  }\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}