{"ast":null,"code":"import { pcaTextArr } from 'element-china-area-data';\nexport default {\n  mounted() {\n    /**\r\n     * 获取用户id并根据用户id获取企业id\r\n     */\n    let userId = JSON.parse(localStorage.getItem(\"user\")).user.userId;\n    this.$axios.get('http://localhost:8081/enterprise/query?userId=' + userId).then(res => {\n      this.formData.enterpriseId = res.data.enterpriseId;\n    });\n  },\n  methods: {\n    createEmploymentNeed() {\n      /**\r\n       * 将工作地址数组转化为工作地址字符串\r\n       */\n      this.formData.enWorkPlace += this.formData.enWorkPlaceList[0];\n      for (let i = 1; i < this.formData.enWorkPlaceList.length; i++) {\n        this.formData.enWorkPlace += '-' + this.formData.enWorkPlaceList[i];\n      }\n\n      /**\r\n       * 剩余招聘人数赋值\r\n       */\n      this.formData.enRecentNumber = this.formData.enNumber;\n      console.log(this.formData);\n      this.$axios.post('http://localhost:8081/en/add', this.formData).then(res => {\n        if (res.data == \"添加OK\") this.$message({\n          message: '发布成功',\n          type: 'success'\n        });\n\n        /**\r\n         * 初始化formData\r\n         */\n        this.resetFormData();\n      });\n    },\n    resetFormData() {\n      this.formData = {\n        quartersId: 1,\n        quarters: [],\n        enOccupationDescription: '',\n        enPay: '',\n        enNumber: '',\n        enRecentNumber: '',\n        enWorkPlaceList: [],\n        enWorkPlace: '',\n        enEndDate: '',\n        enterpriseId: 0\n      };\n    }\n  },\n  data() {\n    return {\n      pcaTextArr,\n      formData: {\n        quartersId: 1,\n        quarters: [],\n        enOccupationDescription: '',\n        enPay: '',\n        enNumber: '',\n        enRecentNumber: '',\n        enWorkPlaceList: [],\n        enWorkPlace: '',\n        enEndDate: ''\n      },\n      /**\r\n       * 招聘人数\r\n       */\n      enNumberList: [{\n        value: '1',\n        label: '1'\n      }, {\n        value: '2',\n        label: '2'\n      }, {\n        value: '3',\n        label: '3'\n      }, {\n        value: '4',\n        label: '4'\n      }, {\n        value: '5',\n        label: '5'\n      }],\n      /**\r\n       * 招聘薪资\r\n       */\n      enPayList: [{\n        value: '3k',\n        label: '3k'\n      }, {\n        value: '4k',\n        label: '4k'\n      }, {\n        value: '6k',\n        label: '6k'\n      }, {\n        value: '8k',\n        label: '8k'\n      }, {\n        value: '10k',\n        label: '10k'\n      }, {\n        value: '12k',\n        label: '12k'\n      }, {\n        value: '15k',\n        label: '15k'\n      }],\n      /**\r\n       * 从数据库中读取的职位名称表\r\n       */\n      quartersList: [{\n        quarters_id: 0,\n        quarters_first: '',\n        quarters_second: '',\n        quarters_third: ''\n      }],\n      /**\r\n       * 用于显示的职位名称表\r\n       */\n      quarters: [{\n        label: '互联网',\n        value: '互联网',\n        children: [{\n          label: '后端开发',\n          value: '后端开发',\n          children: [{\n            label: 'Java',\n            value: 'Java'\n          }, {\n            label: 'C/C++',\n            value: 'C/C++'\n          }]\n        }]\n      }],\n      /**\r\n       * 控制quarters的渲染\r\n       */\n      quartersKey: 0\n    };\n  }\n};","map":{"version":3,"names":["pcaTextArr","mounted","userId","JSON","parse","localStorage","getItem","user","$axios","get","then","res","formData","enterpriseId","data","methods","createEmploymentNeed","enWorkPlace","enWorkPlaceList","i","length","enRecentNumber","enNumber","console","log","post","$message","message","type","resetFormData","quartersId","quarters","enOccupationDescription","enPay","enEndDate","enNumberList","value","label","enPayList","quartersList","quarters_id","quarters_first","quarters_second","quarters_third","children","quartersKey"],"sources":["src/components/enterprise/EnterpriseRequire.vue"],"sourcesContent":["<script>\r\n  import { pcaTextArr } from 'element-china-area-data'\r\n  export default {\r\n    mounted() {\r\n      /**\r\n       * 获取用户id并根据用户id获取企业id\r\n       */\r\n      let userId = JSON.parse(localStorage.getItem(\"user\")).user.userId\r\n      this.$axios.get('http://localhost:8081/enterprise/query?userId='+ userId).then(res=>{\r\n        this.formData.enterpriseId = res.data.enterpriseId\r\n      })\r\n    },\r\n\r\n    methods: {\r\n      createEmploymentNeed() {\r\n        /**\r\n         * 将工作地址数组转化为工作地址字符串\r\n         */\r\n        this.formData.enWorkPlace += this.formData.enWorkPlaceList[0]\r\n        for (let i = 1; i < this.formData.enWorkPlaceList.length ; i++) {\r\n          this.formData.enWorkPlace += '-' + this.formData.enWorkPlaceList[i]\r\n        }\r\n\r\n        /**\r\n         * 剩余招聘人数赋值\r\n         */\r\n        this.formData.enRecentNumber = this.formData.enNumber\r\n\r\n        console.log(this.formData)\r\n        this.$axios.post('http://localhost:8081/en/add', this.formData).then(res=>{\r\n          if(res.data == \"添加OK\")\r\n            this.$message({ message: '发布成功', type: 'success'})\r\n\r\n          /**\r\n           * 初始化formData\r\n           */\r\n          this.resetFormData()\r\n        })\r\n      },\r\n\r\n      resetFormData() {\r\n        this.formData = {\r\n          quartersId: 1,\r\n          quarters: [],\r\n          enOccupationDescription: '',\r\n          enPay: '',\r\n          enNumber: '',\r\n          enRecentNumber: '',\r\n          enWorkPlaceList: [],\r\n          enWorkPlace: '',\r\n          enEndDate: '',\r\n          enterpriseId: 0,\r\n        }\r\n      }\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        pcaTextArr,\r\n\r\n        formData: {\r\n          quartersId: 1,\r\n          quarters: [],\r\n          enOccupationDescription: '',\r\n          enPay: '',\r\n          enNumber: '',\r\n          enRecentNumber: '',\r\n          enWorkPlaceList: [],\r\n          enWorkPlace: '',\r\n          enEndDate: '',\r\n        },\r\n\r\n        /**\r\n         * 招聘人数\r\n         */\r\n        enNumberList: [\r\n        {\r\n          value: '1',\r\n          label: '1'\r\n        },\r\n        {\r\n          value: '2',\r\n          label: '2'\r\n        },\r\n        {\r\n          value: '3',\r\n          label: '3'\r\n        },\r\n        {\r\n          value: '4',\r\n          label: '4'\r\n        },\r\n        {\r\n          value: '5',\r\n          label: '5'\r\n        }],\r\n\r\n        /**\r\n         * 招聘薪资\r\n         */\r\n        enPayList: [\r\n        {\r\n          value: '3k',\r\n          label: '3k'\r\n        },\r\n        {\r\n          value: '4k',\r\n          label: '4k'\r\n        },\r\n        {\r\n          value: '6k',\r\n          label: '6k'\r\n        },\r\n        {\r\n          value: '8k',\r\n          label: '8k'\r\n        },\r\n        {\r\n          value: '10k',\r\n          label: '10k'\r\n        },\r\n        {\r\n          value: '12k',\r\n          label: '12k'\r\n        },\r\n        {\r\n          value: '15k',\r\n          label: '15k'\r\n        }],\r\n\r\n\r\n        /**\r\n         * 从数据库中读取的职位名称表\r\n         */\r\n        quartersList:[\r\n        {\r\n          quarters_id: 0,\r\n          quarters_first: '',\r\n          quarters_second: '',\r\n          quarters_third: '',\r\n        }],\r\n\r\n        /**\r\n         * 用于显示的职位名称表\r\n         */\r\n        quarters: [{\r\n          label: '互联网',\r\n          value: '互联网',\r\n          children: [{\r\n            label: '后端开发',\r\n            value: '后端开发',\r\n            children: [{\r\n              label: 'Java',\r\n              value: 'Java',\r\n            },{\r\n              label: 'C/C++',\r\n              value: 'C/C++',\r\n            }]\r\n          }]\r\n        }],\r\n\r\n\r\n        /**\r\n         * 控制quarters的渲染\r\n         */\r\n        quartersKey: 0\r\n      };\r\n\r\n    },\r\n\r\n\r\n  }\r\n</script>\r\n\r\n<template>\r\n  <div class=\"AllRequire\">\r\n\r\n    <div class=\"myPicture\">\r\n      <el-row >\r\n        <el-card :body-style=\"{ padding: '0px' }\">\r\n          <div class=\"word\">\r\n            <span style=\"font-style: normal;font-size: 34px;font-weight: bolder;height:auto;display: block;text-align: left;white-space: pre-wrap;word-break:break-all;\">去发布一个职位吧</span>\r\n            <span style=\"font-style: normal;font-size: 25px;height:auto;display: block;text-align: left;white-space: pre-wrap;word-break:break-all;\">开启高效招聘方式</span>\r\n          </div>\r\n          <div>\r\n            <img src=\"https://img.bosszhipin.com/static/file/2023/n3fa5j6es61684132314764.png\" class=\"image\" style=\"width: 500px; height: 550px\">\r\n          </div>\r\n        </el-card>\r\n      </el-row>\r\n    </div>\r\n\r\n    <div class=\"myRequire\">\r\n<!--      :options=\"quarters\"-->\r\n      <el-form :model=\"formData\" label-width=\"80px\">\r\n\r\n        <el-form-item label=\"职位名称\">\r\n          <el-cascader\r\n              placeholder=\"选择职位范畴\"\r\n              :options=\"quarters\"\r\n              filterable\r\n              clearable\r\n              v-model=\"formData.quarters\"\r\n          >\r\n          </el-cascader>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"职位描述\">\r\n          <el-input type=\"textarea\" v-model=\"formData.enOccupationDescription\" filterable placeholder=\"简要描述工作内容\" style=\"width: 500px\">\r\n\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"薪资范围\">\r\n          <el-select v-model=\"formData.enPay\" filterable placeholder=\"最低月薪\">\r\n            <el-option\r\n                v-for=\"item in enPayList\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"招聘人数\">\r\n          <el-select v-model=\"formData.enNumber\" filterable placeholder=\"总共招聘几人\">\r\n            <el-option\r\n                v-for=\"item in enNumberList\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"工作地点\">\r\n          <el-cascader\r\n              size=\"large\"\r\n              :options=\"pcaTextArr\"\r\n              v-model=\"formData.enWorkPlaceList\"\r\n              clearable\r\n              filterable\r\n          >\r\n          </el-cascader>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item label=\"截止日期\">\r\n          <input type=\"date\" style=\"background-color: white; border: 1px rgba(0,0,0,0.16) solid\" v-model=\"formData.enEndDate\">\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"createEmploymentNeed\">立即创建</el-button>\r\n          <el-button @click=\"resetFormData\">重置</el-button>\r\n        </el-form-item>\r\n\r\n\r\n      </el-form>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n  .myPicture{\r\n    width: 45%;\r\n    position: relative;\r\n    top: 30px;\r\n    left: 5px;\r\n  }\r\n\r\n  .myRequire{\r\n    width: 45%;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 140px;\r\n  }\r\n</style>"],"mappings":"AACA,SAAAA,UAAA;AACA;EACAC,QAAA;IACA;AACA;AACA;IACA,IAAAC,MAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA,UAAAC,IAAA,CAAAL,MAAA;IACA,KAAAM,MAAA,CAAAC,GAAA,oDAAAP,MAAA,EAAAQ,IAAA,CAAAC,GAAA;MACA,KAAAC,QAAA,CAAAC,YAAA,GAAAF,GAAA,CAAAG,IAAA,CAAAD,YAAA;IACA;EACA;EAEAE,OAAA;IACAC,qBAAA;MACA;AACA;AACA;MACA,KAAAJ,QAAA,CAAAK,WAAA,SAAAL,QAAA,CAAAM,eAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,QAAAP,QAAA,CAAAM,eAAA,CAAAE,MAAA,EAAAD,CAAA;QACA,KAAAP,QAAA,CAAAK,WAAA,eAAAL,QAAA,CAAAM,eAAA,CAAAC,CAAA;MACA;;MAEA;AACA;AACA;MACA,KAAAP,QAAA,CAAAS,cAAA,QAAAT,QAAA,CAAAU,QAAA;MAEAC,OAAA,CAAAC,GAAA,MAAAZ,QAAA;MACA,KAAAJ,MAAA,CAAAiB,IAAA,sCAAAb,QAAA,EAAAF,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAG,IAAA,YACA,KAAAY,QAAA;UAAAC,OAAA;UAAAC,IAAA;QAAA;;QAEA;AACA;AACA;QACA,KAAAC,aAAA;MACA;IACA;IAEAA,cAAA;MACA,KAAAjB,QAAA;QACAkB,UAAA;QACAC,QAAA;QACAC,uBAAA;QACAC,KAAA;QACAX,QAAA;QACAD,cAAA;QACAH,eAAA;QACAD,WAAA;QACAiB,SAAA;QACArB,YAAA;MACA;IACA;EACA;EAEAC,KAAA;IACA;MACAd,UAAA;MAEAY,QAAA;QACAkB,UAAA;QACAC,QAAA;QACAC,uBAAA;QACAC,KAAA;QACAX,QAAA;QACAD,cAAA;QACAH,eAAA;QACAD,WAAA;QACAiB,SAAA;MACA;MAEA;AACA;AACA;MACAC,YAAA,GACA;QACAC,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA;MAEA;AACA;AACA;MACAC,SAAA,GACA;QACAF,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA;MAGA;AACA;AACA;MACAE,YAAA,GACA;QACAC,WAAA;QACAC,cAAA;QACAC,eAAA;QACAC,cAAA;MACA;MAEA;AACA;AACA;MACAZ,QAAA;QACAM,KAAA;QACAD,KAAA;QACAQ,QAAA;UACAP,KAAA;UACAD,KAAA;UACAQ,QAAA;YACAP,KAAA;YACAD,KAAA;UACA;YACAC,KAAA;YACAD,KAAA;UACA;QACA;MACA;MAGA;AACA;AACA;MACAS,WAAA;IACA;EAEA;AAGA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}