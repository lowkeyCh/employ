{"ast":null,"code":"// Original effect by Kjetil Midtgarden Golid\n// https://github.com/kgolid/p5ycho/blob/master/trunk/sketch.js\n\nimport P5Base, { VANTA } from './_p5Base.js';\nimport { color2Hex, mobileCheck } from './helpers.js';\nlet p5 = typeof window == 'object' && window.p5;\nclass Effect extends P5Base {\n  static initClass() {\n    this.prototype.p5 = true;\n    this.prototype.defaultOptions = {\n      color: 0x98465f,\n      backgroundColor: 0x222426,\n      spacing: 0,\n      chaos: 1\n      // speed: 1,\n    };\n  }\n  constructor(userOptions) {\n    p5 = userOptions.p5 || p5;\n    super(userOptions);\n  }\n  onInit() {\n    const t = this;\n    let sketch = function (p) {\n      let rings = mobileCheck() ? 35 : 55;\n      let dim_init = 50;\n      let dim_delta = 4;\n      let chaos_init = .2;\n      let chaos_delta = 0.12;\n      let chaos_mag = 20;\n      let ox = p.random(10000);\n      let oy = p.random(10000);\n      let oz = p.random(10000);\n      p.setup = function () {\n        t.initP5(p); // sets bg too\n        p.strokeWeight(1);\n        p.stroke(color2Hex(t.options.color));\n        p.smooth();\n        p.noFill();\n        //p.noLoop()\n      };\n      p.draw = function () {\n        p.clear();\n        p.translate(p.width / 2, p.height / 2);\n        display();\n      };\n      function display() {\n        //ox+=0.04\n        oy -= 0.02;\n        oz += 0.00005;\n        for (let i = 0; i < rings; i++) {\n          p.beginShape();\n          for (let angle = 0; angle < 360; angle++) {\n            let radian = p.radians(angle);\n            let radius = t.options.chaos * chaos_mag * getNoiseWithTime(radian, chaos_delta * i + chaos_init, oz) + (dim_delta * i + dim_init) + (i * t.options.spacing || 0);\n            p.vertex(radius * p.cos(radian), radius * p.sin(radian));\n          }\n          p.endShape(p.CLOSE);\n        }\n      }\n\n      // function getNoise (radian, dim){\n      //   let r = radian % p.TWO_PI;\n      //   if(r < 0.0){r += p.TWO_PI;}\n      //   return p.noise(ox + p.cos(r) * dim, oy + p.sin(r) * dim);\n      // }\n\n      function getNoiseWithTime(radian, dim, time) {\n        let r = radian % p.TWO_PI;\n        if (r < 0.0) {\n          r += p.TWO_PI;\n        }\n        return p.noise(ox + p.cos(r) * dim, oy + p.sin(r) * dim, oz + time);\n      }\n    };\n    this.p5 = new p5(sketch);\n  }\n}\nEffect.initClass();\nexport default VANTA.register('TRUNK', Effect);","map":{"version":3,"names":["P5Base","VANTA","color2Hex","mobileCheck","p5","window","Effect","initClass","prototype","defaultOptions","color","backgroundColor","spacing","chaos","constructor","userOptions","onInit","t","sketch","p","rings","dim_init","dim_delta","chaos_init","chaos_delta","chaos_mag","ox","random","oy","oz","setup","initP5","strokeWeight","stroke","options","smooth","noFill","draw","clear","translate","width","height","display","i","beginShape","angle","radian","radians","radius","getNoiseWithTime","vertex","cos","sin","endShape","CLOSE","dim","time","r","TWO_PI","noise","register"],"sources":["E:/专业综合实践与训练/employment/node_modules/vanta/src/vanta.trunk.js"],"sourcesContent":["// Original effect by Kjetil Midtgarden Golid\r\n// https://github.com/kgolid/p5ycho/blob/master/trunk/sketch.js\r\n\r\nimport P5Base, {VANTA} from './_p5Base.js'\r\nimport {color2Hex, mobileCheck} from './helpers.js'\r\n\r\nlet p5 = (typeof window == 'object') && window.p5\r\n\r\nclass Effect extends P5Base {\r\n  static initClass() {\r\n    this.prototype.p5 = true\r\n    this.prototype.defaultOptions = {\r\n      color: 0x98465f,\r\n      backgroundColor: 0x222426,\r\n      spacing: 0,\r\n      chaos: 1,\r\n      // speed: 1,\r\n    }\r\n  }\r\n  constructor(userOptions) {\r\n    p5 = userOptions.p5 || p5\r\n    super(userOptions)\r\n  }\r\n  onInit() {\r\n    const t = this\r\n    let sketch = function(p) {\r\n      let rings = mobileCheck() ? 35 : 55\r\n      let dim_init = 50\r\n      let dim_delta = 4\r\n\r\n      let chaos_init = .2\r\n      let chaos_delta = 0.12\r\n      let chaos_mag = 20\r\n\r\n      let ox = p.random(10000)\r\n      let oy = p.random(10000)\r\n      let oz = p.random(10000)\r\n\r\n      p.setup = function(){\r\n        t.initP5(p) // sets bg too\r\n        p.strokeWeight(1)\r\n        p.stroke(color2Hex(t.options.color))\r\n        p.smooth()\r\n        p.noFill()\r\n        //p.noLoop()\r\n      }\r\n\r\n      p.draw = function() {\r\n        p.clear()\r\n        p.translate(p.width / 2, p.height / 2)\r\n        display()\r\n      }\r\n\r\n      function display(){\r\n        //ox+=0.04\r\n        oy-=0.02\r\n        oz+=0.00005\r\n        for(let i = 0; i < rings; i ++){\r\n          p.beginShape()\r\n          for(let angle = 0; angle < 360; angle++){\r\n            let radian = p.radians(angle)\r\n            let radius = (t.options.chaos * chaos_mag * getNoiseWithTime(radian, chaos_delta * i + chaos_init, oz))\r\n              + (dim_delta * i + dim_init)\r\n              + (i * t.options.spacing || 0)\r\n            p.vertex(radius * p.cos(radian), radius * p.sin(radian))\r\n          }\r\n          p.endShape(p.CLOSE)\r\n        }\r\n      }\r\n\r\n      // function getNoise (radian, dim){\r\n      //   let r = radian % p.TWO_PI;\r\n      //   if(r < 0.0){r += p.TWO_PI;}\r\n      //   return p.noise(ox + p.cos(r) * dim, oy + p.sin(r) * dim);\r\n      // }\r\n\r\n      function getNoiseWithTime (radian, dim, time){\r\n        let r = radian % p.TWO_PI;\r\n        if(r < 0.0){r += p.TWO_PI;}\r\n        return p.noise(ox + p.cos(r) * dim , oy + p.sin(r) * dim, oz + time);\r\n      }\r\n    }\r\n    this.p5 = new p5(sketch)\r\n  }\r\n}\r\nEffect.initClass()\r\nexport default VANTA.register('TRUNK', Effect)"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}